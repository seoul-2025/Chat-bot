{"version":3,"file":"Sidebar-81ce4a23.js","sources":["../../node_modules/lucide-react/dist/esm/icons/pen.mjs","../../node_modules/lucide-react/dist/esm/icons/x.mjs","../../src/shared/components/layout/Sidebar.jsx"],"sourcesContent":["/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\n    \"path\",\n    { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }\n  ]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.mjs.map\n","import React, {\n  useState,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Plus,\n  Star,\n  ChevronLeft,\n  MoreHorizontal,\n  User,\n  X,\n  Edit2,\n  Check,\n} from \"lucide-react\";\nimport {\n  listConversations,\n  deleteConversation,\n  updateConversationTitle,\n} from \"../../../features/chat/services/conversationService\";\n\nconst Sidebar = forwardRef(\n  ({ selectedEngine = \"11\", isOpen = true, onToggle }, ref) => {\n    const location = useLocation();\n    const [conversations, setConversations] = useState([]);\n    const [favorites, setFavorites] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [deleteModal, setDeleteModal] = useState({\n      open: false,\n      conversationId: null,\n      title: \"\",\n    });\n    const [isMobile, setIsMobile] = useState(() => {\n      // Ï¥àÍ∏∞Í∞íÏùÑ ÏïàÏ†ÑÌïòÍ≤å ÏÑ§Ï†ï\n      if (typeof window !== \"undefined\") {\n        return window.innerWidth < 768;\n      }\n      return false;\n    });\n\n    // ÎåÄÌôî Î™©Î°ù Î∂àÎü¨Ïò§Í∏∞\n    useEffect(() => {\n      loadConversations();\n    }, [selectedEngine]);\n\n    // refreshSidebar Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä\n    useEffect(() => {\n      const handleRefresh = () => {\n        console.log(\"üîÑ ÏÇ¨Ïù¥ÎìúÎ∞î ÏÉàÎ°úÍ≥†Ïπ® Ïù¥Î≤§Ìä∏ ÏàòÏã†\");\n        loadConversations();\n      };\n\n      window.addEventListener(\"refreshSidebar\", handleRefresh);\n      return () => window.removeEventListener(\"refreshSidebar\", handleRefresh);\n    }, [selectedEngine]);\n\n    // ÌôîÎ©¥ ÌÅ¨Í∏∞ Î≥ÄÍ≤Ω Í∞êÏßÄ\n    useEffect(() => {\n      const handleResize = () => {\n        const mobile = window.innerWidth < 768;\n        const wasMobile = isMobile;\n        setIsMobile(mobile);\n\n        // Îç∞Ïä§ÌÅ¨ÌÜ±ÏóêÏÑú Î™®Î∞îÏùºÎ°ú Ï†ÑÌôòÎê† ÎïåÎßå ÏûêÎèô Îã´Í∏∞\n        // (Ïù¥ÎØ∏ Î™®Î∞îÏùºÏù∏ ÏÉÅÌÉúÏóêÏÑúÎäî ÏÇ¨Ïö©ÏûêÍ∞Ä Ïó¥ Ïàò ÏûàÎèÑÎ°ù ÌóàÏö©)\n        if (!wasMobile && mobile && isOpen) {\n          onToggle?.();\n        }\n      };\n\n      // Ï¥àÍ∏∞ Ï≤¥ÌÅ¨ (ÏûêÎèô Îã´Í∏∞ ÏóÜÏù¥)\n      const mobile = window.innerWidth < 768;\n      setIsMobile(mobile);\n\n      window.addEventListener(\"resize\", handleResize);\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }, [isOpen, onToggle, isMobile]);\n\n    const loadConversations = async () => {\n      try {\n        setLoading(true);\n        const convs = await listConversations(selectedEngine);\n\n        console.log(`üìä ÏÇ¨Ïù¥ÎìúÎ∞î ÎåÄÌôî Î™©Î°ù (${selectedEngine}):`, {\n          totalCount: convs.length,\n          first5: convs.slice(0, 5).map((c) => ({\n            id: c.conversationId,\n            title: c.title,\n            updatedAt: c.updatedAt,\n            engineType: c.engineType,\n          })),\n        });\n\n        setConversations(convs);\n        // localStorageÏóêÏÑú Ï¶êÍ≤®Ï∞æÍ∏∞ Î∂àÎü¨Ïò§Í∏∞\n        const savedFavorites = JSON.parse(\n          localStorage.getItem(\"favorites\") || \"[]\"\n        );\n        setFavorites(savedFavorites);\n      } catch (error) {\n        console.error(\"ÎåÄÌôî Î™©Î°ù Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // refÎ°ú ÎÖ∏Ï∂úÌï† Î©îÏÑúÎìú\n    useImperativeHandle(ref, () => ({\n      loadConversations,\n    }));\n\n    const toggleFavorite = (conversationId) => {\n      const newFavorites = favorites.includes(conversationId)\n        ? favorites.filter((id) => id !== conversationId)\n        : [...favorites, conversationId];\n\n      setFavorites(newFavorites);\n      localStorage.setItem(\"favorites\", JSON.stringify(newFavorites));\n    };\n\n    const handleDeleteClick = (conversationId, title) => {\n      setDeleteModal({ open: true, conversationId, title });\n    };\n\n    const handleDeleteConfirm = async () => {\n      if (!deleteModal.conversationId) return;\n\n      try {\n        await deleteConversation(deleteModal.conversationId);\n        // Î™©Î°ù Ï¶âÏãú ÏÉàÎ°úÍ≥†Ïπ®\n        await loadConversations();\n        setDeleteModal({ open: false, conversationId: null, title: \"\" });\n      } catch (error) {\n        console.error(\"ÎåÄÌôî ÏÇ≠Ï†ú Ïã§Ìå®:\", error);\n        // ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ÎèÑ localStorageÏóêÏÑúÎäî ÏÇ≠Ï†úÎêòÎØÄÎ°ú Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®\n        await loadConversations();\n        setDeleteModal({ open: false, conversationId: null, title: \"\" });\n      }\n    };\n\n    const handleDeleteCancel = () => {\n      setDeleteModal({ open: false, conversationId: null, title: \"\" });\n    };\n\n    const favoriteConversations = conversations.filter((conv) =>\n      favorites.includes(conv.conversationId)\n    );\n\n    const recentConversations = conversations.filter(\n      (conv) => !favorites.includes(conv.conversationId)\n    );\n\n    return (\n      <>\n        {/* Delete Confirmation Modal */}\n        {deleteModal.open && (\n          <div className=\"fixed inset-0 z-[100] flex items-center justify-center p-4\">\n            {/* Backdrop */}\n            <div\n              className=\"absolute inset-0 bg-black/50\"\n              onClick={handleDeleteCancel}\n            />\n\n            {/* Modal */}\n            <div\n              className=\"relative flex flex-col focus:outline-none text-text-100 text-left shadow-xl \n            rounded-2xl p-6 align-middle bg-bg-100 \n            min-w-0 w-full max-w-md animate-[zoom_250ms_ease-in_forwards]\"\n            >\n              <div className=\"min-h-full flex flex-col\">\n                <div className=\"flex items-center gap-4 justify-between\">\n                  <h2 className=\"font-xl-bold text-text-100 flex w-full min-w-0 items-center leading-6 break-words\">\n                    <span className=\"[overflow-wrap:anywhere]\">ÎåÄÌôî ÏÇ≠Ï†ú</span>\n                  </h2>\n                  <button\n                    onClick={handleDeleteCancel}\n                    className=\"p-1 rounded hover:bg-bg-300 transition-colors\"\n                  >\n                    <X size={20} />\n                  </button>\n                </div>\n                <div className=\"mt-1 mb-2\">\n                  Ïù¥ ÎåÄÌôîÎ•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n                  {deleteModal.title && (\n                    <div className=\"mt-2 text-sm text-text-300\">\n                      \"{deleteModal.title}\"\n                    </div>\n                  )}\n                </div>\n                <div className=\"mt-4 flex flex-col gap-2 sm:flex-row justify-end\">\n                  <button\n                    onClick={handleDeleteCancel}\n                    className=\"inline-flex items-center justify-center relative h-9 px-4 py-2 rounded-lg \n                    min-w-[5rem] text-text-100 font-medium \n                    bg-bg-300 hover:bg-bg-400 transition duration-100 active:scale-[0.985]\"\n                    type=\"button\"\n                  >\n                    Ï∑®ÏÜå\n                  </button>\n                  <button\n                    onClick={handleDeleteConfirm}\n                    className=\"inline-flex items-center justify-center relative h-9 px-4 py-2 rounded-lg \n                    min-w-[5rem] bg-red-600 text-white font-medium transition \n                    hover:bg-red-700 hover:scale-[1.02] active:scale-[0.985]\"\n                    type=\"button\"\n                  >\n                    ÏÇ≠Ï†ú\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Î™®Î∞îÏùº Ïò§Î≤ÑÎ†àÏù¥ */}\n        {isOpen && (\n          <div\n            className=\"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden\"\n            onClick={onToggle}\n          />\n        )}\n\n        <motion.nav\n          animate={{\n            width: isOpen ? (isMobile ? \"75vw\" : 288) : 0,\n            opacity: isOpen ? 1 : 0,\n          }}\n          transition={{\n            type: \"tween\",\n            ease: \"easeInOut\",\n            duration: 0.2,\n          }}\n          className=\"h-screen flex flex-col gap-3 pb-2 px-0 fixed top-0 left-0\n          shadow-lg bg-bg-200 z-50 overflow-hidden\"\n          style={{\n            width: isOpen ? (isMobile ? \"75vw\" : \"288px\") : \"0px\",\n          }}\n          aria-label=\"ÏÇ¨Ïù¥ÎìúÎ∞î\"\n        >\n          {/* Header */}\n          <div className=\"flex w-full items-center gap-px p-2\">\n            <button\n              onClick={onToggle}\n              className=\"h-8 w-8 rounded-md hover:bg-bg-300 flex items-center justify-center transition-colors\"\n              aria-label=\"ÏÇ¨Ïù¥ÎìúÎ∞î Îã´Í∏∞\"\n            >\n              <ChevronLeft size={20} />\n            </button>\n\n            <Link to=\"/\" className=\"flex items-center ml-2\">\n              <span className=\"text-xl font-semibold text-text-100\">\n                {selectedEngine === \"11\" ? \" Ïô∏Ïã†Í∏∞ÏÇ¨\" : \" Ïô∏Ïã†Í∏∞ÏÇ¨\"}\n              </span>\n            </Link>\n          </div>\n\n          {/* New Chat Button */}\n          <div className=\"flex flex-col px-1.5 pt-0.5 gap-px mb-2\">\n            <button\n              onClick={() => {\n                // ÌòÑÏû¨ URLÏóêÏÑú conversationId Ï∂îÏ∂ú\n                const pathParts = location.pathname.split(\"/\");\n                const conversationId = pathParts[pathParts.length - 1];\n\n                // ÌòÑÏû¨ ÎåÄÌôîÏùò Ï∫êÏãúÎßå ÏÇ≠Ï†ú (Îã§Î•∏ ÎåÄÌôîÎäî Ïú†ÏßÄ)\n                if (conversationId && conversationId !== \"chat\") {\n                  const cacheKey = `conv:${conversationId}`;\n                  localStorage.removeItem(cacheKey);\n                  console.log(`üóëÔ∏è ÌòÑÏû¨ ÎåÄÌôî Ï∫êÏãú ÏÇ≠Ï†ú: ${cacheKey}`);\n                }\n\n                // ÏûÑÏãú Îç∞Ïù¥ÌÑ∞ Ï†ïÎ¶¨\n                localStorage.removeItem(\"pendingMessage\");\n                localStorage.removeItem(\"pendingConversationId\");\n\n                // sessionStorage Ï†ïÎ¶¨ (Î™®Îì† processed ÌÇ§ Ï†úÍ±∞)\n                Object.keys(sessionStorage).forEach((key) => {\n                  if (key.startsWith(\"processed_\")) {\n                    sessionStorage.removeItem(key);\n                  }\n                });\n\n                console.log(\"üîÑ ÏÉà Ï±ÑÌåÖ ÏãúÏûë - Ïù¥Ï†Ñ ÎåÄÌôî Í∏∞Î°ù Ï†ïÎ¶¨ ÏôÑÎ£å\");\n\n                // Î™®Î∞îÏùºÏóêÏÑúÎäî ÏÇ¨Ïù¥ÎìúÎ∞î Îã´Í∏∞\n                if (isMobile && onToggle) {\n                  onToggle();\n                }\n\n                // Î©îÏù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô (conversationId ÏóÜÏù¥)\n                window.location.href = `/${selectedEngine.toLowerCase()}`;\n              }}\n              className=\"group flex items-center h-9 px-2.5 py-2 rounded-lg \n            hover:bg-accent-main-100/[0.08] active:bg-accent-main-100/[0.15]\n            transition-all ease-in-out active:scale-[0.985] w-full text-left\"\n            >\n              <div className=\"flex flex-row items-center gap-2\">\n                <div\n                  className=\"w-6 h-6 flex items-center justify-center rounded-full \n              bg-accent-main-100 group-hover:bg-accent-main-100 \n              group-hover:shadow-md group-hover:scale-110 group-hover:-rotate-3\n              group-active:rotate-6 group-active:scale-[0.98]\n              transition-all ease-in-out\"\n                >\n                  <Plus\n                    size={12}\n                    className=\"text-white group-hover:scale-105 transition\"\n                  />\n                </div>\n                <span className=\"text-sm font-medium text-accent-main-100 tracking-tight\">\n                  ÏÉà Ï±ÑÌåÖ\n                </span>\n              </div>\n            </button>\n          </div>\n\n          {/* Conversation Lists */}\n          <div className=\"flex flex-grow flex-col overflow-y-auto overflow-x-hidden relative px-2 mb-2\">\n            {loading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-accent-main-100 border-t-transparent\"></div>\n              </div>\n            ) : (\n              <>\n                {/* Favorites */}\n                {favoriteConversations.length > 0 && (\n                  <div className=\"flex flex-col mb-6\">\n                    <h3\n                      className=\"text-text-300 pb-2 mt-1 text-xs select-none pl-2 sticky top-0 z-10 \n                  bg-gradient-to-b from-bg-200 from-50% to-bg-200/40\"\n                    >\n                      Ï¶êÍ≤®Ï∞æÍ∏∞\n                    </h3>\n                    <ul className=\"flex flex-col gap-px\">\n                      {favoriteConversations.map((conv) => (\n                        <ConversationItem\n                          key={conv.conversationId}\n                          conversation={conv}\n                          isActive={location.pathname.includes(\n                            conv.conversationId\n                          )}\n                          isFavorite={true}\n                          onToggleFavorite={() =>\n                            toggleFavorite(conv.conversationId)\n                          }\n                          selectedEngine={selectedEngine}\n                          loadConversations={loadConversations}\n                          onDelete={handleDeleteClick}\n                        />\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {/* Recent */}\n                <div className=\"flex flex-col\">\n                  <h3\n                    className=\"text-text-300 pb-2 mt-1 text-xs select-none pl-2 sticky top-0 z-10 \n                bg-gradient-to-b from-bg-200 from-50% to-bg-200/40\"\n                  >\n                    ÏµúÍ∑º Ìï≠Î™©\n                  </h3>\n                  <ul className=\"flex flex-col gap-px\">\n                    {recentConversations.length > 0 ? (\n                      recentConversations.map((conv) => (\n                        <ConversationItem\n                          key={conv.conversationId}\n                          conversation={conv}\n                          isActive={location.pathname.includes(\n                            conv.conversationId\n                          )}\n                          isFavorite={false}\n                          onToggleFavorite={() =>\n                            toggleFavorite(conv.conversationId)\n                          }\n                          selectedEngine={selectedEngine}\n                          loadConversations={loadConversations}\n                          onDelete={handleDeleteClick}\n                          onToggle={onToggle}\n                          isMobile={isMobile}\n                        />\n                      ))\n                    ) : (\n                      <li className=\"text-text-300 text-sm px-4 py-2\">\n                        ÎåÄÌôîÍ∞Ä ÏóÜÏäµÎãàÎã§\n                      </li>\n                    )}\n                  </ul>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* User Menu */}\n          <div className=\"px-2 pb-1\">\n            <button\n              className=\"flex items-center gap-3 w-full h-12 px-2 rounded-lg hover:bg-bg-300 transition-colors\"\n              type=\"button\"\n            >\n              <div className=\"flex-shrink-0 flex size-8 items-center justify-center rounded-full bg-bg-400\">\n                <User size={16} className=\"text-text-300\" />\n              </div>\n              <div className=\"flex flex-col items-start flex-1 min-w-0\">\n                <span className=\"text-sm font-medium text-text-100 truncate w-full text-left\">\n                  ÏÇ¨Ïö©Ïûê\n                </span>\n                <span className=\"text-xs text-text-300 truncate w-full text-left\">\n                  AI Engine\n                </span>\n              </div>\n            </button>\n          </div>\n        </motion.nav>\n      </>\n    );\n  }\n);\n\n// ÎåÄÌôî ÏïÑÏù¥ÌÖú Ïª¥Ìè¨ÎÑåÌä∏\nconst ConversationItem = ({\n  conversation,\n  isActive,\n  isFavorite,\n  onToggleFavorite,\n  selectedEngine,\n  loadConversations,\n  onDelete,\n  onToggle,\n  isMobile,\n}) => {\n  const [showOptions, setShowOptions] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editTitle, setEditTitle] = useState(conversation.title || \"\");\n\n  // Ïô∏Î∂Ä ÌÅ¥Î¶≠ Í∞êÏßÄ\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      // ÎìúÎ°≠Îã§Ïö¥Ïù¥ Ïó¥Î†§ÏûàÍ≥†, ÌÅ¥Î¶≠Ìïú ÏöîÏÜåÍ∞Ä ÎìúÎ°≠Îã§Ïö¥ ÎÇ¥Î∂ÄÍ∞Ä ÏïÑÎãå Í≤ΩÏö∞\n      if (\n        showOptions &&\n        !event.target.closest(\".options-dropdown\") &&\n        !event.target.closest(\".options-button\")\n      ) {\n        setShowOptions(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [showOptions]);\n\n  const handleRename = async () => {\n    if (!editTitle.trim()) return;\n\n    try {\n      await updateConversationTitle(conversation.conversationId, editTitle);\n      // loadConversationsÎ•º Î®ºÏ†Ä Ìò∏Ï∂úÌïòÏó¨ ÏÉÅÌÉúÎ•º ÏÉàÎ°úÍ≥†Ïπ®\n      await loadConversations(); // Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®\n      setIsEditing(false);\n    } catch (error) {\n      console.error(\"Ï†úÎ™© ÏàòÏ†ï Ïã§Ìå®:\", error);\n      // Ïã§Ìå®Ìï¥ÎèÑ Ìé∏Ïßë Î™®ÎìúÎäî Ï¢ÖÎ£å\n      setIsEditing(false);\n    }\n  };\n\n  if (isEditing) {\n    return (\n      <li className=\"relative px-3 py-1\">\n        <div className=\"flex items-center gap-2\">\n          <input\n            type=\"text\"\n            value={editTitle}\n            onChange={(e) => setEditTitle(e.target.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                handleRename();\n              }\n            }}\n            className=\"flex-1 px-2 py-1 text-sm bg-bg-300 border border-bg-400 \n              rounded text-text-100 focus:outline-none focus:border-accent-main-100\"\n            autoFocus\n          />\n          <button\n            onClick={handleRename}\n            className=\"p-1 hover:bg-bg-400 rounded\"\n          >\n            <Check size={14} className=\"text-green-500\" />\n          </button>\n          <button\n            onClick={() => {\n              setIsEditing(false);\n              setEditTitle(conversation.title || \"\");\n            }}\n            className=\"p-1 hover:bg-bg-400 rounded\"\n          >\n            <X size={14} className=\"text-red-500\" />\n          </button>\n        </div>\n      </li>\n    );\n  }\n\n  return (\n    <li className=\"relative group\">\n      <Link\n        to={`/${selectedEngine.toLowerCase()}/chat/${\n          conversation.conversationId\n        }`}\n        className={`flex items-center gap-3 h-8 px-3 rounded-md text-xs\n          hover:bg-bg-400 transition-colors relative\n          ${\n            isActive\n              ? \"bg-bg-400 text-text-100\"\n              : \"text-text-300 hover:text-text-100\"\n          }`}\n        onClick={() => {\n          console.log(\"üîó Ïä§Î†àÎìú ÌÅ¥Î¶≠:\", {\n            conversationId: conversation.conversationId,\n            targetUrl: `/${selectedEngine.toLowerCase()}/chat/${\n              conversation.conversationId\n            }`,\n            currentUrl: window.location.pathname,\n            isMobile: isMobile,\n          });\n\n          // Î™®Î∞îÏùºÏóêÏÑúÎäî ÎåÄÌôî ÌÅ¥Î¶≠ Ïãú ÏÇ¨Ïù¥ÎìúÎ∞î ÏûêÎèô Îã´Í∏∞\n          if (isMobile && onToggle) {\n            setTimeout(() => {\n              onToggle();\n            }, 100); // ÏïΩÍ∞ÑÏùò ÎîúÎ†àÏù¥Î•º Ï£ºÏñ¥ ÌéòÏù¥ÏßÄ Ï†ÑÌôòÏù¥ Î®ºÏ†Ä ÏùºÏñ¥ÎÇòÎèÑÎ°ù Ìï®\n          }\n        }}\n      >\n        {isFavorite && (\n          <Star size={12} className=\"flex-shrink-0 fill-current\" />\n        )}\n        <span className=\"truncate text-sm flex-1\">\n          {conversation.title || \"Ï†úÎ™© ÏóÜÏùå\"}\n        </span>\n\n        {/* Options button */}\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            setShowOptions(!showOptions);\n          }}\n          className=\"options-button opacity-0 group-hover:opacity-100 transition-opacity\n            h-6 w-6 rounded flex items-center justify-center hover:bg-bg-300\"\n        >\n          <MoreHorizontal size={14} />\n        </button>\n      </Link>\n\n      {/* Options dropdown */}\n      {showOptions && (\n        <div\n          className=\"options-dropdown absolute right-0 top-8 bg-bg-100 \n          rounded-lg shadow-lg z-20 py-1 min-w-[150px] border border-bg-300\"\n        >\n          <button\n            onClick={() => {\n              setIsEditing(true);\n              setShowOptions(false);\n            }}\n            className=\"w-full text-left px-3 py-1.5 text-sm hover:bg-bg-200 transition-colors\n              flex items-center gap-2\"\n          >\n            <Edit2 size={12} />\n            Ï†úÎ™© ÏàòÏ†ï\n          </button>\n          <button\n            onClick={() => {\n              onToggleFavorite();\n              setShowOptions(false);\n            }}\n            className=\"w-full text-left px-3 py-1.5 text-sm hover:bg-bg-200 transition-colors\"\n          >\n            {isFavorite ? \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ï†úÍ±∞\" : \"Ï¶êÍ≤®Ï∞æÍ∏∞ Ï∂îÍ∞Ä\"}\n          </button>\n          <button\n            onClick={() => {\n              onDelete(conversation.conversationId, conversation.title);\n              setShowOptions(false);\n            }}\n            className=\"w-full text-left px-3 py-1.5 text-sm hover:bg-bg-200 transition-colors text-red-500\"\n          >\n            ÏÇ≠Ï†ú\n          </button>\n        </div>\n      )}\n    </li>\n  );\n};\n\nSidebar.displayName = \"Sidebar\";\n\nexport default Sidebar;\n"],"names":["Pen","createLucideIcon","X","Sidebar","forwardRef","selectedEngine","isOpen","onToggle","ref","location","useLocation","conversations","setConversations","useState","favorites","setFavorites","loading","setLoading","deleteModal","setDeleteModal","isMobile","setIsMobile","useEffect","loadConversations","handleRefresh","handleResize","mobile","wasMobile","convs","listConversations","c","savedFavorites","error","useImperativeHandle","toggleFavorite","conversationId","newFavorites","id","handleDeleteClick","title","handleDeleteConfirm","deleteConversation","handleDeleteCancel","favoriteConversations","conv","recentConversations","jsxs","Fragment","jsx","motion","ChevronLeft","Link","pathParts","cacheKey","key","Plus","ConversationItem","User","conversation","isActive","isFavorite","onToggleFavorite","onDelete","showOptions","setShowOptions","isEditing","setIsEditing","editTitle","setEditTitle","handleClickOutside","event","handleRename","updateConversationTitle","e","Check","Star","MoreHorizontal","Edit2"],"mappings":"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","x_google_ignoreList":[0,1]}