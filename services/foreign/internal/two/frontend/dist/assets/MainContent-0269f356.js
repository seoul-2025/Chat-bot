import{j as e,c as R,z as K}from"./ui-vendor-0bbf3a53.js";import{r}from"./react-vendor-dc82ce15.js";import{F as ee,A as te,i as re,c as q,s as se,u as ae}from"./usageService-3bb4b259.js";import{P as le,M as oe}from"./plus-6a5a8a6e.js";import{c as U}from"./createLucideIcon-dbfc2db2.js";import{H as ne}from"./Header-28522990.js";import{S as ie}from"./star-86c219f3.js";import"./config-22307f7a.js";import"./home-787e30b0.js";import"./user-b110ba40.js";const ce=U("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),de=U("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),xe=U("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),G=r.forwardRef(({onSendMessage:l,onStartChat:i,onTitlesGenerated:a,engineType:x="11"},b)=>{const[m,f]=r.useState(""),[v,u]=r.useState(!1),[y,w]=r.useState(!1),[c,j]=r.useState(!1),[h,N]=r.useState([]),[$,g]=r.useState(!1),n=r.useRef(null),D=r.useRef(null),k=r.useRef(0);r.useEffect(()=>((async()=>{try{re()?j(!0):(console.log("WebSocket ì—°ê²° ì‹œë„..."),await q(),j(!0),console.log("WebSocket ì—°ê²° ì„±ê³µ!"))}catch(s){console.error("WebSocket ì—°ê²° ì‹¤íŒ¨:",s),j(!1)}})(),()=>{}),[]);const T=r.useCallback(t=>{t.preventDefault(),t.stopPropagation(),k.current+=1,t.dataTransfer.items&&t.dataTransfer.items.length>0&&g(!0)},[]),z=r.useCallback(t=>{t.preventDefault(),t.stopPropagation(),k.current-=1,k.current===0&&g(!1)},[]),P=r.useCallback(t=>{t.preventDefault(),t.stopPropagation()},[]),C=async t=>{if(t.length>0)for(const s of t)s.type==="text/plain"||s.name.endsWith(".txt")||s.type==="application/pdf"||s.name.endsWith(".pdf")?D.current&&D.current.handleFile&&await D.current.handleFile(s):K.error(`ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹: ${s.name}`,{duration:4e3,position:"top-center",style:{background:"hsl(var(--bg-100))",color:"hsl(var(--text-100))",border:"1px solid hsl(var(--border-300))"}})},H=r.useCallback(async t=>{t.preventDefault(),t.stopPropagation(),g(!1),k.current=0;const s=Array.from(t.dataTransfer.files);await C(s)},[]);r.useImperativeHandle(b,()=>({handleDroppedFiles:C}));const I=(t,s)=>{console.log("íŒŒì¼ ì—…ë¡œë“œë¨:",s);const d={id:Date.now()+Math.random(),fileName:s.fileName,fileType:s.fileType,fileSize:s.fileSize,pageCount:s.pageCount,content:t};N(p=>[...p,d]),u(!0),K.success(`íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ: ${s.fileName}`,{duration:3e3,position:"top-center",style:{background:"hsl(var(--bg-100))",color:"hsl(var(--text-100))",border:"1px solid hsl(var(--accent-main-100))"}}),n.current&&(n.current.focus(),n.current.style.height="auto",n.current.style.height=n.current.scrollHeight+"px")},M=t=>{N(s=>{const d=s.filter(p=>p.id!==t);return d.length===0&&!m.trim()&&u(!1),d})},S=r.useRef(!1),L=async t=>{if(t.preventDefault(),S.current){console.log("âš ï¸ ì´ë¯¸ ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘, ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€");return}if((m.trim()||h.length>0)&&!y){const s=m.trim();if(S.current=!0,i){let d=s;if(h.length>0){const p=h.map(E=>`

--- íŒŒì¼: ${E.fileName} ---
${E.content}`).join(`
`);d=s?s+p:"ì—…ë¡œë“œëœ íŒŒì¼ì„ ë¶„ì„í•©ë‹ˆë‹¤."+p,localStorage.setItem("pendingFiles",JSON.stringify(h))}console.log("ğŸ”€ ChatPageë¡œ ë„¤ë¹„ê²Œì´ì…˜ - ë©”ì‹œì§€:",d),f(""),u(!1),N([]),n.current&&(n.current.style.height="auto",n.current.value=""),i(d),setTimeout(()=>{S.current=!1},1e3);return}if(l&&l(s),!i&&c){w(!0);try{console.log(`${x} ì—”ì§„ìœ¼ë¡œ ë©”ì‹œì§€ ì „ì†¡:`,s),await se(s,x)}catch(d){console.error("ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨:",d),a&&a({error:!0,message:"ë©”ì‹œì§€ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”."})}finally{w(!1)}}else if(!i&&!c){console.warn("WebSocketì´ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì¬ì—°ê²° ì‹œë„ ì¤‘...");try{await q(),j(!0),L(t)}catch(d){console.error("WebSocket ì¬ì—°ê²° ì‹¤íŒ¨:",d),a&&a({error:!0,message:"ì„œë²„ì™€ ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."})}}f(""),N([]),n.current&&(n.current.style.height="auto")}},_=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),L(t))},W=t=>{const s=t.target.value;if(f(s),u(s.length>0||h.length>0),n.current){n.current.style.height="auto";const d=n.current.scrollHeight;n.current.style.height=`${Math.min(d,400)}px`}};return r.useEffect(()=>{n.current&&n.current.focus()},[]),r.useEffect(()=>{h.length>0?u(!0):m.trim()||u(!1)},[h.length,m]),e.jsxs("fieldset",{className:"flex w-full min-w-0 flex-col relative",onDragEnter:T,onDragLeave:z,onDragOver:P,onDrop:H,children:[$&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-96 h-48 border-2 border-dashed border-blue-400 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 flex flex-col items-center justify-center gap-4 transition-all duration-200 animate-pulse",style:{background:"linear-gradient(135deg, hsl(var(--accent-main-100))/10%, hsl(var(--accent-main-200))/5%)",borderColor:"hsl(var(--accent-main-100))"},children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"íŒŒì¼ì„ ì—¬ê¸°ì— ë†“ìœ¼ì„¸ìš”"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"ì§€ì› í˜•ì‹: TXT, PDF"})]})]})})})}),e.jsxs("div",{className:"!box-content flex flex-col bg-bg-000 mx-0 items-stretch transition-all duration-200 relative cursor-text z-10 rounded-2xl border border-border-300/15",style:{boxShadow:"0 0.25rem 1.25rem hsl(var(--always-black)/3.5%)"},onMouseEnter:t=>{t.currentTarget.style.boxShadow="0 0.25rem 1.25rem hsl(var(--always-black)/3.5%)"},onMouseLeave:t=>{t.currentTarget.style.boxShadow="0 0.25rem 1.25rem hsl(var(--always-black)/3.5%)"},onFocus:t=>{t.currentTarget.style.boxShadow="0 0.25rem 1.25rem hsl(var(--always-black)/7.5%)"},children:[e.jsxs("div",{className:"flex flex-col gap-3.5 m-3.5",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-full font-large break-words transition-opacity duration-200 min-h-[1.5rem]",children:e.jsx("textarea",{ref:n,value:m,onChange:W,onKeyDown:_,placeholder:c?x==="11"?"ì˜ë¬¸ ê¸°ì‚¬ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë³µì‚¬í•´ì„œ ì…ë ¥í•´ ì£¼ì„¸ìš”. ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ í•œê¸€ ê¸°ì‚¬ ì´ˆì•ˆì„ ì‘ì„±í•´ ë“œë¦½ë‹ˆë‹¤.":"ì¼ë³¸ì–´ ê¸°ì‚¬ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë³µì‚¬í•´ì„œ ì…ë ¥í•´ ì£¼ì„¸ìš”. ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ í•œê¸€ ê¸°ì‚¬ ì´ˆì•ˆì„ ì‘ì„±í•´ ë“œë¦½ë‹ˆë‹¤.":"ì„œë²„ ì—°ê²° ì¤‘...",className:"w-full min-h-[1.5rem] max-h-[400px] overflow-y-auto resize-none bg-transparent border-none outline-none text-text-100 placeholder-text-500 placeholder:text-sm font-large leading-relaxed scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-transparent",rows:1,disabled:!c,style:{fieldSizing:"content"}})})}),e.jsxs("div",{className:"flex gap-2.5 w-full items-center",children:[e.jsx("div",{className:"relative flex-1 flex items-center gap-2 shrink min-w-0",children:e.jsx("div",{className:"relative shrink-0",children:e.jsx(ee,{ref:D,onFileContent:I,disabled:!c||y})})}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("div",{className:R("w-2 h-2 rounded-full",c?"bg-green-500":"bg-red-500 animate-pulse")})}),e.jsx("div",{className:"opacity-100",children:e.jsx("button",{className:R("inline-flex items-center justify-center relative shrink-0 select-none transition-colors h-8 w-8 rounded-md active:scale-95 !rounded-lg !h-8 !w-8",y?"bg-accent-main-100 text-white cursor-wait":(v||h.length>0)&&c?"bg-accent-main-000 text-white hover:bg-accent-main-200":"bg-gray-600 text-gray-400 cursor-not-allowed"),disabled:!v&&h.length===0||y||!c,type:"button",onClick:L,"aria-label":"ë©”ì‹œì§€ ë³´ë‚´ê¸°",children:y?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}):e.jsx(te,{size:16})})})]})]}),h.length>0&&e.jsx("div",{className:"overflow-hidden rounded-b-2xl",style:{height:"auto"},children:e.jsx("div",{className:"border-border-300/25 border-t-0.5 rounded-b-2xl bg-bg-100 !p-3.5 !m-0 flex flex-row overflow-x-auto gap-3 px-3.5 py-2.5 -my-1",children:h.map(t=>e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"group/thumbnail","data-testid":"file-thumbnail",children:[e.jsxs("div",{className:"rounded-lg text-left block cursor-pointer font-ui transition-all rounded-lg border-0.5 border-border-300/25 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2 bg-bg-000 hover:border-border-200/50 hover:shadow-always-black/10 shadow-sm shadow-always-black/5",style:{width:"120px",height:"120px",minWidth:"120px",backgroundColor:"hsl(var(--bg-000))",borderColor:"hsl(var(--border-300)/25%)"},children:[e.jsxs("div",{className:"relative flex flex-col gap-1 min-h-0",children:[e.jsx("h3",{className:"text-[12px] tracking-tighter break-words text-text-100 line-clamp-3",style:{opacity:1,color:"hsl(var(--text-100))"},children:t.fileName}),e.jsx("p",{className:"text-[10px] line-clamp-1 tracking-tighter break-words text-text-500",style:{opacity:1,color:"hsl(var(--text-500))"},children:t.pageCount?`${t.pageCount}í˜ì´ì§€`:`${Math.ceil(t.fileSize/1024)}KB`})]}),e.jsx("div",{className:"relative flex flex-row items-center gap-1 justify-between",children:e.jsx("div",{className:"flex flex-row gap-1 shrink min-w-0",style:{opacity:1},children:e.jsx("div",{className:"min-w-0 h-[18px] flex flex-row items-center justify-center gap-0.5 px-1 border-0.5 border-border-300/25 shadow-sm rounded bg-bg-000/70 backdrop-blur-sm font-medium",children:e.jsx("p",{className:"uppercase truncate font-ui text-text-300 text-[11px] leading-[13px]",children:t.fileType==="pdf"?"PDF":"TXT"})})})})]}),e.jsx("button",{onClick:()=>M(t.id),className:"transition-all hover:bg-bg-000/50 text-text-500 hover:text-text-200 group-focus-within/thumbnail:opacity-100 group-hover/thumbnail:opacity-100 opacity-0 w-5 h-5 absolute -top-2 -left-2 rounded-full border-0.5 border-border-300/25 bg-bg-000/90 backdrop-blur-sm flex items-center justify-center","data-state":"closed",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"})})})]})},t.id))})})]})]})});G.displayName="ChatInput";const B="https://razlubfzw1.execute-api.us-east-1.amazonaws.com/prod",Y=async l=>{try{const i=await fetch(`${B}/prompts/${l}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(i){throw console.error("Error fetching prompt:",i),i}},Q=async(l,i)=>{try{const a=await fetch(`${B}/prompts/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error updating prompt:",a),a}},X=async(l,i)=>{const a=`${B}/prompts/${l}/files`;console.log("Adding file to:",a),console.log("Request body:",{fileName:i.fileName,fileContent:i.fileContent});try{const x=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileName:i.fileName,fileContent:i.fileContent})});if(console.log("Response status:",x.status),!x.ok){const m=await x.text();throw console.error("Response error:",m),new Error(`HTTP error! status: ${x.status}, message: ${m}`)}const b=await x.json();return console.log("Response data:",b),b.file}catch(x){throw console.error("Error adding file:",x),console.error("Error details:",{message:x.message,stack:x.stack,url:a}),x}},he=async(l,i)=>{try{const a=await fetch(`${B}/prompts/${l}/files/${i}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(a){throw console.error("Error deleting file:",a),a}},J=({engineType:l="11"})=>{const[i,a]=r.useState(""),[x,b]=r.useState([]),[m,f]=r.useState(!1),[v,u]=r.useState(!1),[y,w]=r.useState(!1),[c,j]=r.useState(""),[h,N]=r.useState(""),[$,g]=r.useState(!1),[n,D]=r.useState(null),[k,T]=r.useState(!1),[z,P]=r.useState(!1),C=r.useRef(null);r.useEffect(()=>{H()},[l]);const H=async()=>{T(!0);try{const t=await Y(l);t.prompt&&a(t.prompt.instruction||""),t.files&&b(t.files)}catch(t){console.error("Failed to load prompt data:",t)}finally{T(!1)}},I=async t=>{const s=Array.from(t.target.files);u(!1);for(const d of s)try{const p=new FileReader;p.onload=async E=>{const A=E.target.result,V=await X(l,{fileName:d.name,fileContent:A});b(O=>[...O,V])},p.readAsText(d)}catch(p){console.error("Failed to upload file:",p)}},M=()=>{u(!v)},S=()=>{document.getElementById("project-doc-upload").click(),u(!1)},L=()=>{w(!0),u(!1)},_=async t=>{try{await he(l,t),b(s=>s.filter(d=>d.fileId!==t))}catch(s){console.error("Failed to delete file:",s)}},W=async()=>{P(!0);try{await Q(l,{instruction:i}),f(!1)}catch(t){console.error("Failed to save instructions:",t)}finally{P(!1)}};return r.useEffect(()=>{const t=s=>{C.current&&!C.current.contains(s.target)&&u(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),e.jsxs("div",{className:"w-full xl:w-96 2xl:w-[28rem] flex-shrink-0 mt-6 xl:mt-0",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"claude-border transition-all duration-300 ease-out flex flex-col",children:[e.jsx("div",{className:"w-full px-[1.375rem] py-4 border-b-[0.5px] flex flex-row items-center justify-between gap-4 mt-1",style:{borderColor:"hsl(var(--border-300)/0.15)"},children:e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsxs("div",{className:"w-full flex flex-row items-center justify-between gap-4",children:[e.jsx("h3",{className:"text-text-300 font-base-bold",children:"ì§€ì¹¨"}),e.jsx("div",{className:"flex flex-row items-center gap-2",children:e.jsx("button",{className:"claude-button -mr-2",type:"button",onClick:()=>f(!0),children:e.jsx("div",{className:"flex items-center justify-center",style:{width:"16px",height:"16px"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 3C10.2761 3 10.5 3.22386 10.5 3.5V9.5H16.5L16.6006 9.50977C16.8286 9.55629 17 9.75829 17 10C17 10.2417 16.8286 10.4437 16.6006 10.4902L16.5 10.5H10.5V16.5C10.5 16.7761 10.2761 17 10 17C9.72386 17 9.5 16.7761 9.5 16.5V10.5H3.5C3.22386 10.5 3 10.2761 3 10C3 9.72386 3.22386 9.5 3.5 9.5H9.5V3.5C9.5 3.22386 9.72386 3 10 3Z"})})})})})]}),e.jsx("p",{className:"text-text-500 font-small line-clamp-2",children:e.jsx("span",{className:"opacity-60",children:k?"ë¡œë”© ì¤‘...":i||"Claudeì˜ ì‘ë‹µì„ ë§ì¶¤í™”í•˜ëŠ” ì§€ì¹¨ ì¶”ê°€"})})]})}),e.jsxs("div",{className:"w-full px-[1.375rem] py-4 !border-none flex flex-col gap-2 mb-1",children:[e.jsxs("div",{className:"w-full flex flex-row items-center justify-between gap-4",children:[e.jsx("h3",{className:"text-text-300 font-base-bold",children:"íŒŒì¼"}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("input",{"data-testid":"project-doc-upload",className:"hidden",accept:".pdf,.docx,.rtf,.epub,.odt,.odp,.txt,.py,.ipynb,.js,.jsx,.html,.css,.java,.cs,.php,.c,.cc,.cpp,.cxx,.cts,.h,.hh,.hpp,.rs,.R,.Rmd,.swift,.go,.rb,.kt,.kts,.ts,.tsx,.m,.mm,.mts,.scala,.dart,.lua,.pl,.pm,.t,.sh,.bash,.zsh,.csv,.log,.ini,.cfg,.config,.json,.proto,.yaml,.yml,.toml,.sql,.bat,.md,.coffee,.tex,.latex,.gd,.gdshader,.tres,.tscn,.jpg,.jpeg,.png,.gif,.webp,.csv,.xls,.xlsx,.xlsb,.xlm,.xlsm,.xlt,.xltm,.xltx,.ods",multiple:!0,type:"file",onChange:I,id:"project-doc-upload"}),e.jsxs("div",{className:"relative",ref:C,children:[e.jsx("button",{className:"claude-button -mr-2",type:"button","aria-haspopup":"menu","aria-expanded":v,"data-testid":"project-doc-uploader-dropdown-trigger",onClick:M,children:e.jsx("div",{className:"flex items-center justify-center",style:{width:"16px",height:"16px"},children:e.jsx(le,{size:20})})}),v&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 z-50 min-w-[12rem] overflow-hidden p-1.5 text-text-300 rounded-xl border-0.5",style:{backgroundColor:"hsl(var(--bg-000))",borderColor:"hsl(var(--border-300)/0.15)",backdropFilter:"blur(12px)",boxShadow:"0 0 0 1px hsl(var(--always-black)/4%)",maxHeight:"min(var(--radix-dropdown-menu-content-available-height), var(--dropdown-max-height))",overflowY:"auto"},role:"menu","aria-orientation":"vertical",children:[e.jsx("div",{role:"menuitem",className:"font-base py-1.5 px-2 rounded-lg cursor-pointer whitespace-nowrap overflow-hidden text-ellipsis grid grid-cols-[minmax(0,_1fr)_auto] gap-2 items-center outline-none select-none hover:bg-bg-200 hover:text-text-000 text-left",onClick:S,tabIndex:"0",children:e.jsxs("div",{className:"flex items-center gap-2.5 w-full py-0.5 text-sm group",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx(ce,{size:20})}),e.jsx("span",{children:"ê¸°ê¸°ì—ì„œ ì—…ë¡œë“œ"})]})}),e.jsx("div",{role:"menuitem",className:"font-base py-1.5 px-2 rounded-lg cursor-pointer whitespace-nowrap overflow-hidden text-ellipsis grid grid-cols-[minmax(0,_1fr)_auto] gap-2 items-center outline-none select-none hover:bg-bg-200 hover:text-text-000 text-left",onClick:L,tabIndex:"-1",children:e.jsxs("div",{className:"flex items-center gap-2.5 w-full py-0.5 text-sm group",children:[e.jsx("div",{className:"flex items-center justify-center",style:{width:"20px",height:"20px"},children:e.jsx(xe,{size:20})}),e.jsx("span",{children:"í…ìŠ¤íŠ¸ ë‚´ìš© ì¶”ê°€"})]})})]})]})]})]}),k?e.jsx("div",{className:"text-center h-[10rem] bg-bg-200 rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-text-500",children:"ë¡œë”© ì¤‘..."})}):x.length===0?e.jsxs("div",{className:"text-center h-[10rem] bg-bg-200 rounded-2xl flex flex-col gap-3 items-center justify-center text-text-500 font-small",children:[e.jsx("img",{alt:"",loading:"lazy",width:"105",height:"56",decoding:"async",className:"dark:hidden",src:"/images/illustrations/project-knowledge-light-mode.svg",style:{color:"transparent"}}),e.jsx("img",{alt:"",loading:"lazy",width:"105",height:"56",decoding:"async",className:"hidden dark:block",src:"/images/illustrations/project-knowledge-dark-mode.svg",style:{color:"transparent"}}),e.jsx("div",{className:"max-w-[14.5rem]",children:"ì´ í”„ë¡œì íŠ¸ì—ì„œ ì°¸ì¡°í•  PDF, ë¬¸ì„œ ë˜ëŠ” ê¸°íƒ€ í…ìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”."})]}):e.jsx("ul",{className:"grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-3 mt-2",children:x.map(t=>e.jsx(me,{file:t,onRemove:()=>_(t.fileId),onClick:()=>{D(t),g(!0)}},t.fileId))})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:t=>{t.target===t.currentTarget&&f(!1)},children:e.jsx("div",{role:"dialog",className:"flex flex-col focus:outline-none relative text-text-100 text-left shadow-xl border-0.5 rounded-2xl md:p-6 p-4 align-middle min-w-0 w-full max-w-3xl max-h-[85vh] animate-[zoom_250ms_ease-in_forwards]",style:{backgroundColor:"hsl(var(--bg-100))",borderColor:"hsl(var(--border-300)/0.15)",pointerEvents:"auto"},tabIndex:"-1",children:e.jsxs("div",{className:"flex flex-col h-full overflow-y-auto max-h-[calc(85vh-6rem)]",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h2",{className:"font-xl-bold",children:[l," ì—”ì§„ ì§€ì¹¨ ì„¤ì •"]}),e.jsxs("p",{className:"text-text-300 text-sm",children:[l," ì—”ì§„ì´ ì¹¼ëŸ¼ì„ ì‘ì„±í•  ë•Œ ì‚¬ìš©í•  ì§€ì¹¨ì„ ì…ë ¥í•˜ì„¸ìš”."]})]}),e.jsx("div",{className:"mb-6 mt-3",children:e.jsx("div",{className:"group relative",children:e.jsx("div",{className:"grid",children:e.jsx("textarea",{className:"p-3 leading-5 rounded-[0.6rem] transition-colors placeholder:text-text-500 can-focus disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none row-start-1 row-end-2 col-start-1 col-end-2 max-h-80 overflow-x-visible overflow-y-auto scroll-pb-6 min-h-[0px] instructions-textarea",style:{backgroundColor:"hsl(var(--bg-000))",border:"0.5px solid hsl(var(--border-300)/0.15)",color:"hsl(var(--text-100))"},rows:"16",value:i,onChange:t=>a(t.target.value),placeholder:`${l} ì—”ì§„ì˜ ì¹¼ëŸ¼ ì‘ì„± ì§€ì¹¨ì„ ì…ë ¥í•˜ì„¸ìš”.`})})})}),e.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 can-focus select-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:drop-shadow-none text-text-000 font-base-bold border-0.5 border-border-200 relative overflow-hidden transition duration-100 hover:border-border-300/0 bg-bg-300/0 hover:bg-bg-400 backface-hidden h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",type:"button",onClick:()=>f(!1),children:"ì·¨ì†Œ"}),e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 can-focus select-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:drop-shadow-none bg-text-000 text-bg-000 font-base-bold relative overflow-hidden transition-transform will-change-transform ease-[cubic-bezier(0.165,0.85,0.45,1)] duration-150 hover:scale-y-[1.015] hover:scale-x-[1.005] backface-hidden after:absolute after:inset-0 after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))] after:opacity-0 after:transition after:duration-200 after:translate-y-2 hover:after:opacity-100 hover:after:translate-y-0 h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",type:"button",onClick:W,disabled:!i.trim()||z,children:z?"ì €ì¥ ì¤‘...":"ì§€ì¹¨ ì €ì¥"})]})]})})}),y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:t=>{t.target===t.currentTarget&&(w(!1),N(""),j(""))},children:e.jsx("div",{role:"dialog",className:"flex flex-col focus:outline-none relative text-text-100 text-left shadow-xl border-0.5 rounded-2xl align-middle min-w-0 p-7 pt-6 w-full max-w-3xl max-h-[85vh] animate-[zoom_250ms_ease-in_forwards]",style:{backgroundColor:"hsl(var(--bg-100))",borderColor:"hsl(var(--border-300)/0.15)",pointerEvents:"auto"},tabIndex:"-1",children:e.jsx("div",{className:"flex flex-col h-full overflow-y-auto max-h-[calc(85vh-6rem)]",children:e.jsxs("form",{onSubmit:async t=>{t.preventDefault(),console.log("Submitting text file:",{textTitle:h,textContent:c,engineType:l});try{const s=await X(l,{fileName:`${h||"ì œëª©ì—†ìŒ"}.txt`,fileContent:c});console.log("File added successfully:",s),b(d=>{const p=[...d,s];return console.log("Updated files:",p),p}),w(!1),N(""),j("")}catch(s){console.error("Failed to add text file:",s),alert("íŒŒì¼ ì¶”ê°€ ì‹¤íŒ¨: "+s.message)}},children:[e.jsx("h2",{className:"font-claude-response mb-3 text-xl",children:"í…ìŠ¤íŠ¸ ë‚´ìš© ì¶”ê°€"}),e.jsx("label",{htmlFor:"text-title",className:"text-text-200 mb-1 block font-base",children:"ì œëª©"}),e.jsx("input",{id:"text-title",className:"h-11 px-3 rounded-[0.6rem] mb-2 w-full font-large transition-colors placeholder:text-text-500 can-focus disabled:cursor-not-allowed disabled:opacity-50",style:{backgroundColor:"hsl(var(--bg-000))",border:"0.5px solid hsl(var(--border-300)/0.15)",color:"hsl(var(--text-100))"},onMouseEnter:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.3)"},onMouseLeave:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.15)"},onFocus:t=>{t.target.style.borderColor="hsl(var(--accent-main-100))",t.target.style.boxShadow="0 0 0 2px hsl(var(--accent-main-100)/0.2)"},onBlur:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.15)",t.target.style.boxShadow="none"},placeholder:"ì½˜í…ì¸  ì´ë¦„ ì§€ì •",required:!0,value:h,onChange:t=>N(t.target.value)}),e.jsxs("div",{className:"group relative",children:[e.jsx("label",{htmlFor:"text-content",className:"text-text-200 mb-1 block font-base",children:"ì½˜í…ì¸ "}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{"aria-hidden":"true",className:"p-3 leading-5 rounded-[0.6rem] transition-colors placeholder:text-text-500 can-focus disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none row-start-1 row-end-2 col-start-1 col-end-2 max-h-[50vh] overflow-y-auto pointer-events-none invisible",style:{backgroundColor:"hsl(var(--bg-000))",border:"0.5px solid hsl(var(--border-300)/0.15)"},children:c||" "}),e.jsx("textarea",{id:"text-content",className:"p-3 leading-5 rounded-[0.6rem] transition-colors placeholder:text-text-500 can-focus disabled:cursor-not-allowed disabled:opacity-50 whitespace-pre-wrap resize-none row-start-1 row-end-2 col-start-1 col-end-2 max-h-[50vh] overflow-y-auto",style:{backgroundColor:"hsl(var(--bg-000))",border:"0.5px solid hsl(var(--border-300)/0.15)",color:"hsl(var(--text-100))"},onMouseEnter:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.3)"},onMouseLeave:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.15)"},onFocus:t=>{t.target.style.borderColor="hsl(var(--accent-main-100))",t.target.style.boxShadow="0 0 0 2px hsl(var(--accent-main-100)/0.2)"},onBlur:t=>{t.target.style.borderColor="hsl(var(--border-300)/0.15)",t.target.style.boxShadow="none"},rows:"12",placeholder:"ë‚´ìš©ì„ ì…ë ¥í•˜ê±°ë‚˜ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.",required:!0,value:c,onChange:t=>j(t.target.value)})]})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 can-focus select-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:drop-shadow-none text-text-000 font-base-bold border-0.5 border-border-200 relative overflow-hidden transition duration-100 hover:border-border-300/0 bg-bg-300/0 hover:bg-bg-400 backface-hidden h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",type:"button",onClick:()=>{w(!1),N(""),j("")},children:"ì·¨ì†Œ"}),e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 can-focus select-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:drop-shadow-none bg-text-000 text-bg-000 font-base-bold relative overflow-hidden transition-transform will-change-transform ease-[cubic-bezier(0.165,0.85,0.45,1)] duration-150 hover:scale-y-[1.015] hover:scale-x-[1.005] backface-hidden after:absolute after:inset-0 after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))] after:opacity-0 after:transition after:duration-200 after:translate-y-2 hover:after:opacity-100 hover:after:translate-y-0 h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",type:"submit",disabled:!h.trim()||!c.trim(),children:"ì½˜í…ì¸  ì¶”ê°€"})]})]})})})}),$&&n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:t=>{t.target===t.currentTarget&&g(!1)},children:e.jsx("div",{role:"dialog",className:"flex flex-col focus:outline-none relative text-text-100 text-left shadow-xl border-0.5 rounded-2xl md:p-6 p-4 align-middle min-w-0 w-full max-w-3xl max-h-[85vh] animate-[zoom_250ms_ease-in_forwards]",style:{backgroundColor:"hsl(var(--bg-100))",borderColor:"hsl(var(--border-300)/0.15)",pointerEvents:"auto"},tabIndex:"-1",children:e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[e.jsx("h2",{className:"font-xl-bold text-text-100 flex w-full min-w-0 items-center leading-6 break-words",children:e.jsx("span",{className:"[overflow-wrap:anywhere]",children:(n.fileName||n.name||"").replace(".txt","")})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 can-focus select-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none disabled:drop-shadow-none text-text-300 border-transparent transition font-ui tracking-tight duration-300 ease-[cubic-bezier(0.165,0.85,0.45,1)] hover:bg-bg-300 hover:text-text-100 h-8 w-8 rounded-md active:scale-95 !text-text-500 hover:!text-text-400 -mx-2 !rounded-xl",type:"button",onClick:()=>g(!1),children:e.jsx("div",{className:"flex items-center justify-center",style:{width:"16px",height:"16px"},children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"shrink-0","aria-hidden":"true",children:e.jsx("path",{d:"M15.1465 4.14642C15.3418 3.95121 15.6583 3.95118 15.8536 4.14642C16.0487 4.34168 16.0488 4.65822 15.8536 4.85346L10.7071 9.99997L15.8536 15.1465C16.0487 15.3417 16.0488 15.6583 15.8536 15.8535C15.6828 16.0244 15.4187 16.0461 15.2247 15.918L15.1465 15.8535L10 10.707L4.85352 15.8535C4.65827 16.0486 4.34168 16.0486 4.14648 15.8535C3.95129 15.6583 3.95142 15.3418 4.14648 15.1465L9.293 9.99997L4.14648 4.85346C3.95142 4.65818 3.95129 4.34162 4.14648 4.14642C4.34168 3.95128 4.65825 3.95138 4.85352 4.14642L10 9.29294L15.1465 4.14642Z"})})})})})]}),e.jsx("p",{className:"text-text-300 mb-2 text-sm",children:e.jsxs("span",{className:"text-text-500 mb-3 mt-0.5 flex flex-wrap gap-y-2 items-start items-center text-xs",children:[e.jsx("span",{children:e.jsxs("span",{children:[((n.size||(n.fileContent||"").length)/1024).toFixed(2)," ","KBÂ ",e.jsx("span",{className:"opacity-50 mx-1",children:"â€¢"}),(n.fileName||n.name||"").endsWith(".txt")?`${(n.fileContent||n.content||"").split(`
`).length}ì¤„`:"íŒŒì¼"]})}),e.jsx("span",{className:"mx-1.5 opacity-50 hidden lg:inline",children:"â€¢"}),e.jsx("span",{children:"ì›ë³¸ê³¼ í˜•ì‹ì´ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤"})]})}),e.jsx("div",{className:"rounded-lg border-0.5 shadow-sm whitespace-pre-wrap break-all text-xs p-4 font-mono overflow-y-auto flex-1 min-h-0",style:{backgroundColor:"hsl(var(--bg-000))",borderColor:"hsl(var(--border-300)/0.15)"},children:(n.fileName||n.name||"").endsWith(".txt")?n.fileContent||n.content||"í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.":"ì´ íŒŒì¼ í˜•ì‹ì€ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."})]})})})]})},me=({file:l,onRemove:i,onClick:a})=>{const x=c=>c.split(".").pop().toLowerCase(),b=c=>typeof c=="string"?c.split(`
`).length:1,m=l.fileName||l.name||"untitled",f=l.fileContent||l.content||"",v=m.endsWith(".txt"),u=v?m.replace(".txt",""):m,y=v?b(f):1,w=l.size||(f?f.length:0);return e.jsx("div",{children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"group/thumbnail","data-testid":"file-thumbnail",children:[e.jsxs("button",{className:"rounded-lg text-left block cursor-pointer font-ui transition-all border-0.5 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2 shadow-sm",onClick:a,style:{width:"100%",height:"120px",minWidth:"100%",borderColor:"hsl(var(--border-300)/0.25)",backgroundColor:"hsl(var(--bg-000))",boxShadow:"0 1px 2px 0 hsl(var(--always-black)/0.05)"},onMouseEnter:c=>{c.currentTarget.style.borderColor="hsl(var(--border-200)/0.5)",c.currentTarget.style.boxShadow="0 4px 6px -1px hsl(var(--always-black)/0.1)"},onMouseLeave:c=>{c.currentTarget.style.borderColor="hsl(var(--border-300)/0.25)",c.currentTarget.style.boxShadow="0 1px 2px 0 hsl(var(--always-black)/0.05)"},children:[e.jsxs("div",{className:"relative flex flex-col gap-1 min-h-0",children:[e.jsx("h3",{className:"text-[12px] tracking-tighter break-words text-text-100 line-clamp-3",style:{opacity:1},children:u}),e.jsx("p",{className:"text-[10px] line-clamp-1 tracking-tighter break-words text-text-500",style:{opacity:1},children:v?`${y}ì¤„`:`${Math.round(w/1024)}KB`})]}),e.jsx("div",{children:e.jsxs("div",{className:"relative flex flex-row items-center gap-1 justify-between",children:[e.jsx("div",{className:"flex flex-row gap-1 shrink min-w-0",style:{opacity:1},children:e.jsx("div",{className:"min-w-0 h-[18px] flex flex-row items-center justify-center gap-0.5 px-1 border-0.5 shadow-sm rounded font-medium",style:{borderColor:"hsl(var(--border-300)/0.25)",backgroundColor:"hsl(var(--bg-000)/0.7)",backdropFilter:"blur(4px)"},children:e.jsx("p",{className:"uppercase truncate font-ui text-text-300 text-[11px] leading-[13px]",children:x(m)})})}),e.jsx("div",{className:"flex flex-row gap-1 shrink-0",children:e.jsx("div",{className:"flex flex-row gap-1 h-[18px] right-0 top-0 absolute opacity-0",children:e.jsxs("label",{className:"select-none flex flex-row gap-3 cursor-pointer text-left shrink-0 items-center",children:[e.jsx("input",{className:"sr-only peer",type:"checkbox"}),e.jsx("div",{className:"shrink-0 w-4 h-4 flex items-center justify-center border rounded transition-colors duration-100 ease-in-out cursor-pointer border-0.5 shadow-sm",style:{width:"18px",height:"18px",borderColor:"hsl(var(--border-300)/0.25)",backgroundColor:"hsl(var(--bg-000))"}}),e.jsx("span",{className:"leading-none sr-only",children:"Select file"})]})})})]})})]}),e.jsx("button",{className:"transition-all hover:bg-bg-000/50 text-text-500 hover:text-text-200 group-focus-within/thumbnail:opacity-100 group-hover/thumbnail:opacity-100 opacity-0 w-5 h-5 absolute -top-2 -left-2 rounded-full border-0.5 flex items-center justify-center",style:{borderColor:"hsl(var(--border-300)/0.25)",backgroundColor:"hsl(var(--bg-000)/0.9)",backdropFilter:"blur(4px)"},onClick:i,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"})})})]})})})},ue=({selectedEngine:l="11"})=>e.jsxs("div",{className:"w-full max-w-4xl pt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-100 mb-2",children:l==="11"?"ì˜ë¬¸ ë‰´ìŠ¤ â†’ í•œê¸€ ê¸°ì‚¬":"ì¼ë³¸ ë‰´ìŠ¤ â†’ í•œê¸€ ê¸°ì‚¬"}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-sm text-text-300",children:l==="11"?"5ê°€ì§€ ì£¼ìš” ì˜ë¯¸ê¶Œ ì–¸ë¡ ì‚¬ ìŠ¤íƒ€ì¼ë¡œ AIê°€ í•œê¸€ ê¸°ì‚¬ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.":"7ê°€ì§€ ì£¼ìš” ì¼ë³¸ ì–¸ë¡ ì‚¬ ìŠ¤íƒ€ì¼ë¡œ AIê°€ í•œê¸€ ê¸°ì‚¬ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤."})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start p-3 rounded-lg",style:{backgroundColor:"hsl(var(--bg-200))"},children:[e.jsx("div",{className:"mr-3 mt-1",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-5 w-5 text-blue-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-text-200",children:e.jsx("span",{className:"font-medium",children:"ìµœì¢… ì…ë ¥ì°½ ë¬¸êµ¬ (2ì¤„):"})})})]}),e.jsxs("div",{className:"flex items-start p-3 rounded-lg",style:{backgroundColor:"hsl(var(--bg-200))"},children:[e.jsx("div",{className:"mr-3 mt-1",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-5 w-5 text-green-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm text-text-200",children:l==="11"?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"ì˜ë¬¸ ê¸°ì‚¬ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë³µì‚¬í•´ì„œ ì…ë ¥í•´ ì£¼ì„¸ìš”."}),e.jsx("p",{children:"ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ í•œê¸€ ê¸°ì‚¬ ì´ˆì•ˆì„ ì‘ì„±í•´ ë“œë¦½ë‹ˆë‹¤."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"ì¼ë³¸ì–´ ê¸°ì‚¬ í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë³µì‚¬í•´ì„œ ì…ë ¥í•´ ì£¼ì„¸ìš”."}),e.jsx("p",{children:"ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ í•œê¸€ ê¸°ì‚¬ ì´ˆì•ˆì„ ì‘ì„±í•´ ë“œë¦½ë‹ˆë‹¤."})]})})})]})]})]}),Ce=({project:l,userRole:i,selectedEngine:a="11",onToggleStar:x,onStartChat:b,onLogout:m,onBackToLanding:f,onToggleSidebar:v,isSidebarOpen:u=!1,onDashboard:y})=>{const[w,c]=r.useState(!1),[j,h]=r.useState(!1),[N,$]=r.useState(l.title),[g,n]=r.useState(""),[D,k]=r.useState(""),[T,z]=r.useState(!1),[P,C]=r.useState(!1),[H,I]=r.useState(()=>{const o=localStorage.getItem(`usage_percentage_${a}`);return o?parseInt(o):0}),M=r.useRef(null),S=r.useRef(0),L=r.useRef(null);r.useEffect(()=>{(async()=>{try{const F=await Y(a);F.prompt&&(k(F.prompt.description||""),n(F.prompt.description||"")),console.log("ğŸ“Š ì´ˆê¸° ì‚¬ìš©ëŸ‰ ë°ì´í„° ë¡œë”©..."),localStorage.removeItem(`usage_percentage_${a}`),localStorage.removeItem(`usage_percentage_time_${a}`);const Z=await ae.getUsagePercentage(a,!0);I(Z),console.log(`âœ… ${a} ì´ˆê¸° ì‚¬ìš©ëŸ‰: ${Z}%`),window.dispatchEvent(new CustomEvent("usageUpdated"))}catch(F){console.error("Failed to load data:",F)}finally{}})()},[a]),r.useEffect(()=>{const o=F=>{M.current&&!M.current.contains(F.target)&&c(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const _=()=>{c(!w)},W=o=>{c(!1),o==="edit"&&h(!0),console.log(`Action: ${o}`)},t=o=>{console.log("Message sent:",o)},s=o=>{console.log("Titles generated:",o),o.titles&&o.titles.length>0},d=()=>{h(!1),$(l.title),n(D)},p=o=>{o.preventDefault(),o.stopPropagation(),S.current+=1,o.dataTransfer.items&&o.dataTransfer.items.length>0&&C(!0)},E=o=>{o.preventDefault(),o.stopPropagation(),S.current-=1,S.current===0&&C(!1)},A=o=>{o.preventDefault(),o.stopPropagation()},V=async o=>{o.preventDefault(),o.stopPropagation(),C(!1),S.current=0;const F=Array.from(o.dataTransfer.files);F.length>0&&L.current&&L.current.handleDroppedFiles&&await L.current.handleDroppedFiles(F)},O=async()=>{z(!0);try{await Q(a,{description:g}),k(g),h(!1),window.location.reload()}catch(o){console.error("Failed to save description:",o),alert("ì„¤ëª… ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{z(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col",onDragEnter:p,onDragLeave:E,onDragOver:A,onDrop:V,children:[P&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm pointer-events-none",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-96 h-48 border-2 border-dashed border-blue-400 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 flex flex-col items-center justify-center gap-4 transition-all duration-200 animate-pulse",style:{background:"linear-gradient(135deg, hsl(var(--accent-main-100))/10%, hsl(var(--accent-main-200))/5%)",borderColor:"hsl(var(--accent-main-100))"},children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center animate-bounce",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"íŒŒì¼ì„ ì—¬ê¸°ì— ë†“ìœ¼ì„¸ìš”"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"ì§€ì› í˜•ì‹: TXT, PDF (ìµœëŒ€ 500MB)"})]})]})})})}),e.jsx(ne,{onLogout:m,onHome:f,onToggleSidebar:v,isSidebarOpen:u,onDashboard:null,selectedEngine:a,usagePercentage:H}),e.jsxs("main",{className:R("mx-auto mt-4 w-full flex-1 lg:mt-6 flex gap-6",i==="admin"?"max-w-7xl flex-col xl:flex-row px-6 lg:px-8":"max-w-none flex-col px-4 lg:px-6"),children:[e.jsx("div",{className:"flex-1 flex flex-col gap-4",children:e.jsxs("div",{className:R("flex flex-col gap-3 max-md:pt-4 mt-4 w-full",i==="admin"?"items-start max-w-none":"items-center max-w-4xl mx-auto"),children:[i==="admin"?e.jsxs("div",{className:"flex items-start gap-3 w-full",children:[e.jsx("h1",{className:"min-w-0 gap-1.5 text-left break-words flex-1",style:{margin:"0",marginTop:"0.125rem",overflowWrap:"break-word",textAlign:"left",color:"hsl(var(--text-200))",fontFamily:"var(--font-ui-serif)",lineHeight:"1.3",fontSize:"1.5rem",fontWeight:"500",letterSpacing:"-0.025em",fontFeatureSettings:'"ss01" 0'},children:l.title}),e.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[e.jsxs("div",{className:"relative",ref:M,children:[e.jsx("button",{className:"inline-flex items-center justify-center relative shrink-0 select-none text-text-300 border-transparent transition-claude hover:bg-bg-300 hover:text-text-100 h-8 w-8 rounded-md active:scale-95 active:!scale-100 pointer-events-auto",type:"button","aria-label":`${l.title}ì— ëŒ€í•œ ë” ë§ì€ ì˜µì…˜`,onClick:_,children:e.jsx(oe,{size:20})}),w&&e.jsx("div",{className:"absolute right-0 top-full mt-2 z-50 min-w-[8rem] overflow-hidden p-1.5 text-text-300 rounded-xl border-0.5",style:{backgroundColor:"hsl(var(--bg-000))",borderColor:"hsl(var(--border-300)/0.15)",backdropFilter:"blur(12px)",boxShadow:"0 0 0 1px hsl(var(--always-black)/4%)"},role:"menu",children:e.jsxs("button",{onClick:()=>W("edit"),className:"relative flex w-full min-w-0 select-none items-center rounded-lg border border-transparent px-3 py-2 text-xs text-text-100 transition-colors hover:border-border-100 hover:bg-bg-100 active:bg-bg-200 active:border-border-100 active:text-text-100",children:[e.jsx(de,{className:"mr-2 h-3.5 w-3.5"}),e.jsx("span",{children:"ì„¸ë¶€ì‚¬í•­ ìˆ˜ì •"})]})})]}),e.jsx("button",{className:R("inline-flex items-center justify-center relative shrink-0 select-none border-transparent transition-claude h-8 w-8 rounded-md active:scale-95 relative *:transition *:ease-in-out *:duration-300",l.isStarred?"text-accent-main-000":"text-text-300 hover:bg-bg-300 hover:text-text-100"),type:"button",onClick:x,"aria-pressed":l.isStarred,children:e.jsx("div",{className:"flex items-center justify-center scale-100 opacity-100 rotate-0",children:e.jsx(ie,{size:20,fill:l.isStarred?"currentColor":"none"})})})]})]}):e.jsxs("div",{className:"font-display text-text-200 w-full flex items-center justify-center transition-opacity duration-300 ease-in",style:{fontSize:"clamp(1.5rem, 1rem + 1.5vw, 2rem)",lineHeight:"1.4",gap:"0.625rem",transform:"translateX(-2rem)"},children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32",children:e.jsx("img",{src:"/images/ainova.png",alt:"Logo",className:"w-full h-full object-contain"})})}),e.jsx("div",{className:"select-none",style:{marginLeft:"-2.6rem"},children:"ì•ˆë…•í•˜ì„¸ìš”, ê¸°ìë‹˜"})]}),e.jsx("div",{className:"z-10 w-full",children:e.jsx(G,{ref:L,onSendMessage:t,onStartChat:b,onTitlesGenerated:s})}),i==="admin"&&e.jsx("div",{className:"w-full xl:hidden",children:e.jsx(J,{engineType:a})}),i==="user"&&e.jsx(ue,{selectedEngine:a})]})}),i==="admin"&&e.jsx("div",{className:"hidden xl:block",children:e.jsx(J,{engineType:a})})]}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",onClick:o=>{o.target===o.currentTarget&&d()},children:e.jsxs("div",{className:"bg-bg-100 rounded-2xl shadow-2xl border border-bg-300 w-full max-w-2xl max-h-[85vh] overflow-hidden animate-[zoom_250ms_ease-in_forwards]",style:{backgroundColor:"hsl(var(--bg-100))",borderColor:"hsl(var(--border-300)/0.15)"},children:[e.jsx("div",{className:"px-6 py-5 border-b border-bg-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-text-100",children:"í”„ë¡œì íŠ¸ ì„¤ëª… í¸ì§‘"}),e.jsxs("p",{className:"mt-1 text-sm text-text-300",children:[a," ì—”ì§„ì˜ í”„ë¡œì íŠ¸ ì„¤ëª…ì„ ìˆ˜ì •í•©ë‹ˆë‹¤"]})]}),e.jsx("button",{onClick:d,className:"p-2 text-text-400 hover:text-text-100 hover:bg-bg-200 rounded-lg transition-colors",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.1465 4.14642C15.3418 3.95121 15.6583 3.95118 15.8536 4.14642C16.0487 4.34168 16.0488 4.65822 15.8536 4.85346L10.7071 9.99997L15.8536 15.1465C16.0487 15.3417 16.0488 15.6583 15.8536 15.8535C15.6828 16.0244 15.4187 16.0461 15.2247 15.918L15.1465 15.8535L10 10.707L4.85352 15.8535C4.65827 16.0486 4.34168 16.0486 4.14648 15.8535C3.95129 15.6583 3.95142 15.3418 4.14648 15.1465L9.293 9.99997L4.14648 4.85346C3.95142 4.65818 3.95129 4.34162 4.14648 4.14642C4.34168 3.95128 4.65825 3.95138 4.85352 4.14642L10 9.29294L15.1465 4.14642Z"})})})]})}),e.jsx("div",{className:"px-6 py-6 overflow-y-auto max-h-[calc(85vh-180px)]",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-text-200 mb-3",children:"í”„ë¡œì íŠ¸ ì„¤ëª…"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:g,onChange:o=>n(o.target.value),rows:8,placeholder:"í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”...",className:"w-full px-4 py-3 border border-bg-300 rounded-lg bg-bg-000 text-text-100 placeholder-text-400 resize-none focus:outline-none focus:border-accent-main-100 focus:ring-2 focus:ring-accent-main-100/20 transition-all",style:{minHeight:"200px",maxHeight:"400px"}}),e.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-text-400",children:[g.length," ì"]})]}),e.jsx("p",{className:"mt-2 text-xs text-text-400",children:"ì´ ì„¤ëª…ì€ í”„ë¡œì íŠ¸ ê°œìš”ë¥¼ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤."})]})})}),e.jsx("div",{className:"px-6 py-4 border-t border-bg-300 bg-bg-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-xs text-text-400",children:["ë§ˆì§€ë§‰ ìˆ˜ì •: ",new Date().toLocaleString("ko-KR")]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:d,className:"px-5 py-2.5 text-text-200 font-medium rounded-lg hover:bg-bg-200 hover:text-text-100 transition-all",children:"ì·¨ì†Œ"}),e.jsx("button",{onClick:O,className:"px-5 py-2.5 bg-accent-main-100 text-white font-medium rounded-lg hover:bg-accent-main-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:T||!g.trim(),children:T?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ì €ì¥ ì¤‘..."]}):"ì €ì¥"})]})]})})]})})]})};export{Ce as default};
//# sourceMappingURL=MainContent-0269f356.js.map
