import{j as e,m as k,c as U}from"./ui-vendor-85456786.js";import{u as se,r as S}from"./react-vendor-c02f2b03.js";import{API_BASE_URL as te}from"./config-1594e6a6.js";import{c as E}from"./createLucideIcon-a3a8b1cb.js";import{C as ae}from"./chevron-left-651c36b6.js";import{C as ne,T as re,A as oe}from"./target-71e3845a.js";import{Z as le}from"./zap-96405aba.js";import{R as P,A as ie,C as ce,X as de,Y as me,T as H,a as ue,P as ge,b as he,c as xe,d as pe,e as fe,f as be,g as ke,h as ye,i as je,j as we}from"./chart-vendor-0decd39f.js";const ve=E("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ne=E("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),G=E("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),I=te,D=()=>{try{const s=JSON.parse(localStorage.getItem("userInfo")||"{}");let t=localStorage.getItem("userPlan");return t||(t=localStorage.getItem("userRole")==="admin"?"premium":"free"),console.log("ðŸ” ì‚¬ìš©ìž ì •ë³´:",{userId:s.username||s.email,userRole:localStorage.getItem("userRole"),userPlan:t}),{userId:s.username||s.email||"anonymous",plan:t}}catch(s){return console.error("ì‚¬ìš©ìž ì •ë³´ íŒŒì‹± ì‹¤íŒ¨:",s),{userId:"anonymous",plan:"free"}}},O=()=>{const s=localStorage.getItem("authToken"),t={"Content-Type":"application/json"};return s&&(t.Authorization=`Bearer ${s}`),t},p={free:{11:{monthlyTokens:1e4,dailyMessages:20,maxTokensPerMessage:1e3},22:{monthlyTokens:1e4,dailyMessages:20,maxTokensPerMessage:1e3}},basic:{11:{monthlyTokens:1e5,dailyMessages:100,maxTokensPerMessage:2e3},22:{monthlyTokens:1e5,dailyMessages:100,maxTokensPerMessage:2e3}},premium:{11:{monthlyTokens:5e5,dailyMessages:500,maxTokensPerMessage:4e3},22:{monthlyTokens:5e5,dailyMessages:500,maxTokensPerMessage:4e3}}},R=s=>{if(!s)return 0;const t=(s.match(/[ê°€-íž£]/g)||[]).length,n=(s.match(/[a-zA-Z]/g)||[]).length,a=s.length-t-n,o=Math.ceil(t/2.5),l=Math.ceil(n/4),c=Math.ceil(a/3);return o+l+c},J=s=>s?s.length:0,j="user_usage_data",q="user_profile",A=()=>{try{const s=localStorage.getItem(q);return s?JSON.parse(s):{userId:localStorage.getItem("userId")||"anonymous",currentPlan:"free",signupDate:new Date().toISOString(),planStartDate:new Date().toISOString()}}catch(s){return console.error("í”„ë¡œí•„ ë¡œë“œ ì‹¤íŒ¨:",s),{currentPlan:"free"}}},Y=s=>{const t=A();return t.currentPlan=s,t.planStartDate=new Date().toISOString(),localStorage.setItem(q,JSON.stringify(t)),t},M=()=>{const s=new Date().toISOString().slice(0,7),t=new Date().toISOString().slice(0,10),n=A(),a=p[n.currentPlan]||p.free;return{11:{period:s,planType:n.currentPlan,tokens:{input:0,output:0,total:0},characters:{input:0,output:0},messageCount:0,dailyUsage:{[t]:{tokens:0,messages:0}},limits:a.C1,firstUsedAt:null,lastUsedAt:null},22:{period:s,planType:n.currentPlan,tokens:{input:0,output:0,total:0},characters:{input:0,output:0},messageCount:0,dailyUsage:{[t]:{tokens:0,messages:0}},limits:a.C2,firstUsedAt:null,lastUsedAt:null}}},w=()=>{var s;try{const t=localStorage.getItem(j+"_backup");if(t)try{return JSON.parse(t)}catch{console.log("ë°±ì—… ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨")}const n=localStorage.getItem(j);if(!n){const d=localStorage.getItem(j+"_backup");if(d)return JSON.parse(d);const m=M();return localStorage.setItem(j,JSON.stringify(m)),m}const a=JSON.parse(n),o=new Date().toISOString().slice(0,7);if(((s=a.C1)==null?void 0:s.period)!==o){const d=M();return localStorage.setItem(j,JSON.stringify(d)),d}const l=A(),c=p[l.currentPlan]||p.free;return a.C1&&(a.C1.planType=l.currentPlan,a.C1.limits=c.C1),a.C2&&(a.C2.planType=l.currentPlan,a.C2.limits=c.C2),a}catch(t){return console.error("ì‚¬ìš©ëŸ‰ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",t),M()}},W=(s,t=0)=>{const a=w()[s],o=new Date().toISOString().slice(0,10);if(!a)return{allowed:!1,reason:"ìž˜ëª»ëœ ì—”ì§„ íƒ€ìž…"};if(a.tokens.total+t>a.limits.monthlyTokens)return{allowed:!1,reason:"ì›”ê°„ í† í° í•œë„ ì´ˆê³¼",remaining:Math.max(0,a.limits.monthlyTokens-a.tokens.total)};const l=a.dailyUsage[o]||{messages:0};return l.messages>=a.limits.dailyMessages?{allowed:!1,reason:"ì¼ì¼ ë©”ì‹œì§€ í•œë„ ì´ˆê³¼",dailyRemaining:0}:t>a.limits.maxTokensPerMessage?{allowed:!1,reason:"ë©”ì‹œì§€ë‹¹ í† í° í•œë„ ì´ˆê³¼",maxAllowed:a.limits.maxTokensPerMessage}:{allowed:!0,remaining:a.limits.monthlyTokens-a.tokens.total,dailyRemaining:a.limits.dailyMessages-l.messages}},Se=async(s,t,n)=>{var a,o,l,c,d,m;try{const u=D();console.log(`ðŸ“Š ${s} ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì‹œë„:`,{userId:u.userId,inputLength:(t==null?void 0:t.length)||0,outputLength:(n==null?void 0:n.length)||0});const i=await fetch(`${I}/usage/update`,{method:"POST",headers:O(),body:JSON.stringify({userId:u.userId,engineType:s,inputText:t||"",outputText:n||"",userPlan:u.plan})});if(!i.ok)throw new Error(`API ì˜¤ë¥˜: ${i.status}`);const r=await i.json();if(r.success){console.log(`âœ… ${s} ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì„±ê³µ:`,{tokensUsed:r.tokensUsed,percentage:r.percentage,remaining:r.remaining});const b=w();return r.usage&&(b[s]={period:r.usage.yearMonth||new Date().toISOString().slice(0,7),planType:r.usage.userPlan||u.plan,tokens:{input:r.usage.inputTokens||0,output:r.usage.outputTokens||0,total:r.usage.totalTokens||0},characters:{input:((a=r.usage.characters)==null?void 0:a.input)||0,output:((o=r.usage.characters)==null?void 0:o.output)||0},messageCount:r.usage.messageCount||0,dailyUsage:r.usage.dailyUsage||{},limits:r.usage.limits||((l=p[u.plan])==null?void 0:l[s])||p.free[s],firstUsedAt:r.usage.createdAt||r.usage.firstUsedAt,lastUsedAt:r.usage.lastUsedAt||r.usage.updatedAt},localStorage.setItem(j,JSON.stringify(b)),localStorage.setItem(j+"_backup",JSON.stringify(b))),{success:!0,percentage:r.percentage!==void 0?r.percentage:Math.round((((c=r.usage)==null?void 0:c.totalTokens)||0)/(((m=(d=r.usage)==null?void 0:d.limits)==null?void 0:m.monthlyTokens)||5e5)*100),remaining:r.remaining,usage:r.usage}}else return console.warn(`âš ï¸ ${s} ì‚¬ìš©ëŸ‰ ì œí•œ:`,r.error),{success:!1,reason:r.error,remaining:r.remaining||0}}catch(u){return console.error("ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:",u),console.log("ðŸ”„ ë¡œì»¬ ë°±ì—…ìœ¼ë¡œ ì „í™˜"),Ce(s,t,n)}},Ce=(s,t,n)=>{try{const a=w(),o=a[s],l=new Date().toISOString().slice(0,10);if(!o)return console.error(`ìž˜ëª»ëœ ì—”ì§„ íƒ€ìž…: ${s}`),{success:!1,reason:"ìž˜ëª»ëœ ì—”ì§„ íƒ€ìž…"};const c=R(t),d=R(n),m=c+d,u=J(t),i=J(n),r=W(s,m);if(!r.allowed)return{success:!1,reason:r.reason,...r};o.tokens.input+=c,o.tokens.output+=d,o.tokens.total+=m,o.characters.input+=u,o.characters.output+=i,o.messageCount+=1,o.dailyUsage[l]||(o.dailyUsage[l]={tokens:0,messages:0}),o.dailyUsage[l].tokens+=m,o.dailyUsage[l].messages+=1;const b=new Date().toISOString();o.firstUsedAt||(o.firstUsedAt=b),o.lastUsedAt=b,localStorage.setItem(j+"_backup",JSON.stringify(a)),console.log(`ðŸ’¾ ${s} ë¡œì»¬ ë°±ì—… ì—…ë°ì´íŠ¸:`,{inputTokens:c,outputTokens:d,totalTokens:o.tokens.total});const y=Math.round(o.tokens.total/o.limits.monthlyTokens*100);return{success:!0,usage:o,percentage:Math.min(y,100),remaining:r.remaining,isBackup:!0}}catch(a){return console.error("ë¡œì»¬ ë°±ì—… ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:",a),{success:!1,reason:"ì—…ë°ì´íŠ¸ ì‹¤íŒ¨"}}},Z=async(s,t=!1)=>{var n;try{const a=`usage_percentage_${s}`,o=`usage_percentage_time_${s}`,l=localStorage.getItem(a),c=localStorage.getItem(o);if(!t&&l&&c&&Date.now()-parseInt(c)<5e3)return console.log(`ðŸ“¦ ìºì‹œëœ ì‚¬ìš©ëŸ‰ ë°˜í™˜: ${l}%`),parseInt(l);const d=D(),m=await fetch(`${I}/usage/${d.userId}/${s}`,{headers:O()});if(m.ok){const b=await m.json();if(b.success&&b.data){const y=b.data.totalTokens||0,T=((n=p[d.plan])==null?void 0:n[s])||p.free[s];console.log("ðŸ” ì‚¬ìš©ëŸ‰ ê³„ì‚°:",{userId:d.userId,userPlan:d.plan,userRole:localStorage.getItem("userRole"),engineType:s,totalTokens:y,monthlyLimit:T.monthlyTokens,calculation:`${y} / ${T.monthlyTokens} * 100`});const f=Math.round(y/T.monthlyTokens*100),_=Math.min(f,100);return localStorage.setItem(a,_.toString()),localStorage.setItem(o,Date.now().toString()),_}}const i=w()[s];if(!i||!i.limits)return 0;const r=Math.round(i.tokens.total/i.limits.monthlyTokens*100);return Math.min(r,100)}catch(a){console.error("ì‚¬ìš©ëŸ‰ í¼ì„¼í‹°ì§€ ì¡°íšŒ ì‹¤íŒ¨:",a);const l=w()[s];if(!l||!l.limits)return 0;const c=Math.round(l.tokens.total/l.limits.monthlyTokens*100);return Math.min(c,100)}},B=async s=>{const n=w()[s],a=new Date().toISOString().slice(0,10);if(!n)return null;const o=n.dailyUsage[a]||{tokens:0,messages:0};return{percentage:await Z(s),tokens:{used:n.tokens.total,limit:n.limits.monthlyTokens,remaining:Math.max(0,n.limits.monthlyTokens-n.tokens.total),input:n.tokens.input,output:n.tokens.output},characters:{input:n.characters.input,output:n.characters.output,total:n.characters.input+n.characters.output},messages:{total:n.messageCount,todayCount:o.messages,todayLimit:n.limits.dailyMessages,todayRemaining:Math.max(0,n.limits.dailyMessages-o.messages)},plan:{type:n.planType,limits:n.limits},period:n.period,lastUsed:n.lastUsedAt,firstUsed:n.firstUsedAt}},Ie=()=>{var n,a,o,l,c,d,m,u,i,r,b,y;const s=w(),t=A();return{user:{userId:t.userId,plan:t.currentPlan,signupDate:t.signupDate,planStartDate:t.planStartDate},engines:{11:B("11"),22:B("22")},total:{tokens:{total:(((n=s.C1)==null?void 0:n.tokens.total)||0)+(((a=s.C2)==null?void 0:a.tokens.total)||0),input:(((o=s.C1)==null?void 0:o.tokens.input)||0)+(((l=s.C2)==null?void 0:l.tokens.input)||0),output:(((c=s.C1)==null?void 0:c.tokens.output)||0)+(((d=s.C2)==null?void 0:d.tokens.output)||0)},characters:{input:(((m=s.C1)==null?void 0:m.characters.input)||0)+(((u=s.C2)==null?void 0:u.characters.input)||0),output:(((i=s.C1)==null?void 0:i.characters.output)||0)+(((r=s.C2)==null?void 0:r.characters.output)||0)},messages:(((b=s.C1)==null?void 0:b.messageCount)||0)+(((y=s.C2)==null?void 0:y.messageCount)||0)}}},Te=async(s,t)=>{try{const n=localStorage.getItem("access_token"),a=await fetch(`${I}/usage/${s}/${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("ì‚¬ìš©ëŸ‰ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨");const o=await a.json(),l=w();return l[t]={...l[t],...o},localStorage.setItem(j,JSON.stringify(l)),o}catch(n){return console.error("ì„œë²„ ì‚¬ìš©ëŸ‰ ì¡°íšŒ ì‹¤íŒ¨:",n),w()[t]}},Ue=async(s,t,n)=>{try{const a=localStorage.getItem("access_token"),o=await fetch(`${I}/usage/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({userId:s,engineType:t,...n})});if(!o.ok)throw new Error("ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨");return await o.json()}catch(a){return console.error("ì„œë²„ ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:",a),null}},Ae=()=>{localStorage.removeItem("user_usage_data"),localStorage.removeItem("usage_data_timestamp"),localStorage.removeItem("usage_percentage_C1"),localStorage.removeItem("usage_percentage_time_C1"),localStorage.removeItem("usage_percentage_C2"),localStorage.removeItem("usage_percentage_time_C2"),console.log("ðŸ—‘ï¸ ì‚¬ìš©ëŸ‰ ìºì‹œ ì •ë¦¬ ì™„ë£Œ")},Pe=async s=>{try{const t=localStorage.getItem("access_token"),n=localStorage.getItem("userId"),a=await fetch(`${I}/user/plan`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({userId:n,newPlan:s,changeDate:new Date().toISOString()})});if(!a.ok)throw new Error("í”Œëžœ ë³€ê²½ ì‹¤íŒ¨");Y(s);const o=w();return localStorage.setItem(j,JSON.stringify(o)),await a.json()}catch(t){return console.error("í”Œëžœ ë³€ê²½ ì‹¤íŒ¨:",t),null}},Me=()=>{const s=M();return localStorage.setItem(j,JSON.stringify(s)),s},De=async(s=!1)=>{var t,n,a,o;try{const l=D();console.log(`ðŸ“Š ì „ì²´ ì‚¬ìš©ëŸ‰ ë°ì´í„° ì¡°íšŒ: ${l.userId}`);const[c,d]=await Promise.all([fetch(`${I}/usage/${encodeURIComponent(l.userId)}/C1`,{method:"GET",headers:O()}),fetch(`${I}/usage/${encodeURIComponent(l.userId)}/C2`,{method:"GET",headers:O()})]),m=await c.json(),u=await d.json();console.log("ðŸ“Š C1 ì‘ë‹µ:",m),console.log("ðŸ“Š C2 ì‘ë‹µ:",u);const i=m.success?m.data:null,r=u.success?u.data:null;return{userId:l.userId,userPlan:l.plan,signupDate:new Date().toISOString(),11:{monthlyTokensUsed:(i==null?void 0:i.totalTokens)||0,inputTokens:(i==null?void 0:i.inputTokens)||0,outputTokens:(i==null?void 0:i.outputTokens)||0,charactersProcessed:0,messageCount:(i==null?void 0:i.messageCount)||0,lastUsedAt:i==null?void 0:i.lastUsedAt,limits:((t=p[l.plan])==null?void 0:t.C1)||p.free.C1},22:{monthlyTokensUsed:(r==null?void 0:r.totalTokens)||0,inputTokens:(r==null?void 0:r.inputTokens)||0,outputTokens:(r==null?void 0:r.outputTokens)||0,charactersProcessed:0,messageCount:(r==null?void 0:r.messageCount)||0,lastUsedAt:r==null?void 0:r.lastUsedAt,limits:((n=p[l.plan])==null?void 0:n.C2)||p.free.C2}}}catch(l){console.error("ì‚¬ìš©ëŸ‰ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:",l);const c=D();return{userId:c.userId,userPlan:c.plan,signupDate:new Date().toISOString(),11:{monthlyTokensUsed:0,inputTokens:0,outputTokens:0,charactersProcessed:0,messageCount:0,lastUsedAt:null,limits:((a=p[c.plan])==null?void 0:a.C1)||p.free.C1},22:{monthlyTokensUsed:0,inputTokens:0,outputTokens:0,charactersProcessed:0,messageCount:0,lastUsedAt:null,limits:((o=p[c.plan])==null?void 0:o.C2)||p.free.C2}}}},Oe=s=>p[s]||p.free,L={estimateTokens:R,countCharacters:J,getUserProfile:A,setUserPlan:Y,getLocalUsageData:w,checkUsageLimit:W,updateLocalUsage:Se,getUsagePercentage:Z,getUsageSummary:B,getAllUsageStats:Ie,fetchUsageFromServer:Te,updateUsageOnServer:Ue,changePlan:Pe,resetMonthlyUsage:Me,getAllUsageData:De,getPlanLimits:Oe,clearUsageCache:Ae,PLAN_LIMITS:p},x={primary:"hsl(251, 40.2%, 54.1%)",secondary:"hsl(210, 70.9%, 51.6%)",accent:"hsl(15, 63.1%, 59.6%)",warning:"#F59E0B",danger:"#EF4444",info:"#06B6D4",success:"#10B981",bg100:"hsl(60, 2.7%, 14.5%)",bg200:"hsl(30, 3.3%, 11.8%)",bg300:"hsl(60, 2.6%, 7.6%)",text100:"hsl(48, 33.3%, 97.1%)",text200:"hsl(50, 9%, 73.7%)",text300:"hsl(48, 4.3%, 53.3%)",border:"hsl(48, 2.9%, 26.5%)",gradient1:"linear-gradient(135deg, hsl(251, 40.2%, 24.1%) 0%, hsl(251, 40%, 18.1%) 100%)",gradient2:"linear-gradient(135deg, hsl(210, 70.9%, 21.6%) 0%, hsl(210, 55.9%, 14.6%) 100%)",gradient3:"linear-gradient(135deg, hsl(15, 63.1%, 29.6%) 0%, hsl(15, 55.6%, 22.4%) 100%)",gradient4:"linear-gradient(135deg, hsl(160, 60%, 25%) 0%, hsl(160, 50%, 18%) 100%)"},V={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},N={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},_e=({active:s,payload:t,label:n})=>s&&t&&t.length?e.jsxs("div",{className:"bg-bg-300/95 backdrop-blur-sm p-3 rounded-lg shadow-xl border border-bg-300/50",children:[e.jsx("p",{className:"text-sm font-semibold text-text-100",children:n}),t.map((a,o)=>e.jsxs("p",{className:"text-xs text-text-200",children:[a.name,": ",a.value.toLocaleString()]},o))]}):null,$e=({value:s,duration:t=1e3,prefix:n="",suffix:a=""})=>{const[o,l]=S.useState(0);return S.useEffect(()=>{let c,d;const m=u=>{c||(c=u);const i=Math.min((u-c)/t,1);l(Math.floor(i*s)),i<1&&(d=requestAnimationFrame(m))};return d=requestAnimationFrame(m),()=>{d&&cancelAnimationFrame(d)}},[s,t]),e.jsxs("span",{children:[n,o.toLocaleString(),a]})},Le=({selectedEngine:s="11",onBack:t})=>{var K;const n=se(),[a,o]=S.useState(null);S.useState("month");const[l,c]=S.useState(!1),[d,m]=S.useState("tokens"),[u,i]=S.useState("checking");S.useEffect(()=>{r(!0);const g=C=>{C.key==="user_usage_data"&&r()},h=()=>{r(!0)};window.addEventListener("storage",g),window.addEventListener("usageUpdated",h);const $=setInterval(()=>r(),1e4);return()=>{window.removeEventListener("storage",g),window.removeEventListener("usageUpdated",h),clearInterval($)}},[]);const r=async(g=!1)=>{try{i("checking"),console.log(`ðŸ“Š ${s} ì‚¬ìš©ëŸ‰ ë°ì´í„° ë¡œë”© ì¤‘...`);const h=await L.getAllUsageData(g);console.log("âœ… ì‚¬ìš©ëŸ‰ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:",h),h&&h[s]?(console.log(`âœ… ${s} ì—”ì§„ ë°ì´í„° í™•ì¸:`,h[s]),i("online")):(console.warn(`âš ï¸ ${s} ì—”ì§„ ë°ì´í„° ì—†ìŒ`),i("online")),o(h)}catch(h){console.error("âŒ ëŒ€ì‹œë³´ë“œ ì‚¬ìš©ëŸ‰ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:",h),i("offline"),o({userId:b(),userPlan:"free",11:{monthlyTokensUsed:0,inputTokens:0,outputTokens:0,charactersProcessed:0},22:{monthlyTokensUsed:0,inputTokens:0,outputTokens:0,charactersProcessed:0}})}},b=()=>{try{const g=JSON.parse(localStorage.getItem("userInfo")||"{}");return g.username||g.email||"anonymous"}catch{return"anonymous"}},y=async()=>{c(!0);try{await L.clearUsageCache(),await r(!0)}catch(g){console.error("âŒ ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨:",g)}finally{c(!1)}},T=()=>{const g=window.location.pathname.split("/"),h=g[g.length-1];if(h&&h!=="dashboard"){const C=`conv:${h}`;localStorage.removeItem(C),console.log(`ðŸ—‘ï¸ í˜„ìž¬ ëŒ€í™” ìºì‹œ ì‚­ì œ: ${C}`)}localStorage.removeItem("pendingMessage"),localStorage.removeItem("pendingConversationId"),Object.keys(sessionStorage).forEach(C=>{C.startsWith("processed_")&&sessionStorage.removeItem(C)}),console.log("ðŸ”„ ëŒ€ì‹œë³´ë“œì—ì„œ ë‚˜ê°€ê¸° - ë©”ì¸ íŽ˜ì´ì§€ë¡œ ì´ë™");const $=s.toLowerCase();window.location.href=`/${$}`};if(!a)return e.jsx("div",{className:"flex items-center justify-center h-screen bg-bg-100",children:e.jsx(k.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(G,{className:"w-8 h-8 text-accent"})})});const f=a[s]||{monthlyTokensUsed:0,inputTokens:0,outputTokens:0,charactersProcessed:0},z=L.getPlanLimits(a.userPlan)[s]||{monthlyTokens:1e4,monthlyCharacters:1e5,dailyTokens:1e3,dailyCharacters:1e4},v=f.monthlyTokensUsed>0?Math.round(f.monthlyTokensUsed/z.monthlyTokens*100):0,X=[{name:"Mon",tokens:1200,characters:5400},{name:"Tue",tokens:2100,characters:8300},{name:"Wed",tokens:1800,characters:6200},{name:"Thu",tokens:2780,characters:9800},{name:"Fri",tokens:1890,characters:7200},{name:"Sat",tokens:2390,characters:8600},{name:"Sun",tokens:3490,characters:12400}],F=[{name:"ìž…ë ¥ í† í°",value:f.inputTokens>0?f.inputTokens:1},{name:"ì¶œë ¥ í† í°",value:f.outputTokens>0?f.outputTokens:1}],Q=[{subject:"ì†ë„",A:85,fullMark:100},{subject:"ì •í™•ë„",A:92,fullMark:100},{subject:"íš¨ìœ¨ì„±",A:78,fullMark:100},{subject:"ì•ˆì •ì„±",A:95,fullMark:100},{subject:"ì‘ë‹µì„±",A:88,fullMark:100}],ee=[{name:"ì‚¬ìš©ë¥ ",value:v,fill:v>80?x.danger:v>50?x.warning:x.success}];return e.jsxs(k.div,{className:"min-h-screen bg-bg-100",initial:"hidden",animate:"visible",variants:V,children:[e.jsx(k.div,{className:"sticky top-0 z-50 bg-bg-200/80 backdrop-blur-xl border-b border-bg-300/50",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:100},children:e.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("button",{onClick:T,className:"p-1.5 sm:p-2 hover:bg-bg-300/50 rounded-lg transition-colors text-text-100",children:e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-text-100 whitespace-nowrap",children:["ì—”ì§„ ì‚¬ìš©ëŸ‰",e.jsx("span",{className:"hidden sm:inline",children:" ëŒ€ì‹œë³´ë“œ"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 sm:mt-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-text-300 hidden sm:block",children:"ì‹¤ì‹œê°„ ì‚¬ìš©ëŸ‰ ë¶„ì„"}),e.jsx("span",{className:"text-text-300 hidden sm:block",children:"â€¢"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:U("w-2 h-2 rounded-full",u==="online"?"bg-success animate-pulse":u==="offline"?"bg-danger":"bg-warning animate-pulse")}),e.jsx("span",{className:"text-xs text-text-300",children:u==="online"?"API ì—°ê²°ë¨":u==="offline"?"API ì˜¤í”„ë¼ì¸":"API í™•ì¸ ì¤‘..."})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex gap-1 sm:gap-2 bg-bg-300/50 rounded-lg p-0.5 sm:p-1",children:[{id:"11",label:"11",fullLabel:"ë¹„ì¦ˆë‹ˆìŠ¤ ì—”ì§„",path:"/t5/dashboard"},{id:"22",label:"22",fullLabel:"ì¢…í•© ë‰´ìŠ¤ ì—”ì§„",path:"/c7/dashboard"}].map(g=>e.jsxs("button",{onClick:()=>n(g.path),className:U("px-2 sm:px-4 py-1 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-all whitespace-nowrap",s===g.id?"bg-bg-100 text-accent":"text-text-300 hover:text-text-100"),children:[e.jsx("span",{className:"sm:hidden",children:g.label}),e.jsx("span",{className:"hidden sm:inline",children:g.fullLabel})]},g.id))}),e.jsxs(k.button,{onClick:()=>n("/subscription"),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 bg-gradient-to-r from-warning/20 to-warning/10 text-warning rounded-lg hover:from-warning/30 hover:to-warning/20 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(ne,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"í”Œëžœ ì—…ê·¸ë ˆì´ë“œ"})]}),e.jsx(k.button,{onClick:y,className:"p-1.5 sm:p-2 bg-accent/20 text-accent rounded-lg hover:bg-accent/30 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},animate:l?{rotate:360}:{},transition:l?{duration:1,repeat:1/0,ease:"linear"}:{},children:e.jsx(G,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})})}),e.jsxs("div",{className:"p-3 sm:p-6 max-w-7xl mx-auto",children:[e.jsxs(k.div,{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",variants:V,children:[e.jsxs(k.div,{variants:N,className:"relative overflow-hidden bg-bg-200 border border-bg-300/50 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-xl col-span-2 md:col-span-1",whileHover:{scale:1.02},children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-accent/5 rounded-full blur-xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-accent/10 rounded-lg backdrop-blur-sm",children:e.jsx(le,{className:"w-4 h-4 sm:w-6 sm:h-6 text-accent"})}),e.jsx("span",{className:"text-xs bg-bg-300/50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-text-200",children:v>80?"ë†’ìŒ":v>50?"ë³´í†µ":"ì–‘í˜¸"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-text-200 mb-0.5 sm:mb-1",children:"ì›”ê°„ í† í° ì‚¬ìš©ëŸ‰"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-text-100",children:e.jsx($e,{value:f.monthlyTokensUsed||0,suffix:" í† í°"})}),e.jsxs("div",{className:"mt-2 sm:mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-0.5 sm:mb-1 text-text-300",children:[e.jsx("span",{children:"ì‚¬ìš©ë¥ "}),e.jsxs("span",{children:[v,"%"]})]}),e.jsx("div",{className:"w-full bg-bg-300/50 rounded-full h-1.5 sm:h-2",children:e.jsx(k.div,{className:"bg-accent rounded-full h-1.5 sm:h-2",initial:{width:0},animate:{width:`${v}%`},transition:{duration:1,ease:"easeOut"}})})]})]})]}),e.jsxs(k.div,{variants:N,className:"relative overflow-hidden bg-bg-200 border border-bg-300/50 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-xl",whileHover:{scale:1.02},children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-primary/5 rounded-full blur-xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-primary/10 rounded-lg backdrop-blur-sm",children:e.jsx(ve,{className:"w-4 h-4 sm:w-6 sm:h-6 text-primary"})}),e.jsx("span",{className:"text-xs bg-bg-300/50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-text-200",children:"ì‹¤ì‹œê°„"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-text-200 mb-0.5 sm:mb-1",children:"ìž…ì¶œë ¥ ë¹„ìœ¨"}),e.jsxs("div",{className:"flex items-baseline gap-1 sm:gap-2",children:[e.jsx("p",{className:"text-sm sm:text-2xl font-bold text-text-100",children:(f.inputTokens||0).toLocaleString()}),e.jsx("span",{className:"text-xs sm:text-sm text-text-300",children:"/"}),e.jsx("p",{className:"text-sm sm:text-2xl font-bold text-text-100",children:(f.outputTokens||0).toLocaleString()})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-text-300",children:"ìž…ë ¥"}),e.jsx("div",{className:"w-full bg-bg-300/50 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-primary rounded-full h-1",style:{width:`${f.inputTokens/(f.inputTokens+f.outputTokens)*100||50}%`}})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-text-300",children:"ì¶œë ¥"}),e.jsx("div",{className:"w-full bg-bg-300/50 rounded-full h-1 mt-1",children:e.jsx("div",{className:"bg-secondary rounded-full h-1",style:{width:`${f.outputTokens/(f.inputTokens+f.outputTokens)*100||50}%`}})})]})]})]})]}),e.jsxs(k.div,{variants:N,className:"relative overflow-hidden bg-bg-200 border border-bg-300/50 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-xl",whileHover:{scale:1.02},children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-success/5 rounded-full blur-xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-success/10 rounded-lg backdrop-blur-sm",children:e.jsx(re,{className:"w-4 h-4 sm:w-6 sm:h-6 text-success"})}),e.jsx("span",{className:"text-xs bg-bg-300/50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-text-200",children:"ì˜¤ëŠ˜"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-text-200 mb-0.5 sm:mb-1",children:"ì¼ì¼ í•œë„"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-text-100",children:((K=z.dailyTokens)==null?void 0:K.toLocaleString())||"1,000"}),e.jsxs("div",{className:"mt-2 sm:mt-4 flex items-center gap-1 sm:gap-2",children:[e.jsx(Ne,{className:"w-3 h-3 sm:w-4 sm:h-4 text-success"}),e.jsx("span",{className:"text-xs text-text-300",children:"ì •ìƒ ìš´ì˜ ì¤‘"})]})]})]}),e.jsxs(k.div,{variants:N,className:"relative overflow-hidden bg-bg-200 border border-bg-300/50 rounded-xl sm:rounded-2xl p-3 sm:p-6 shadow-xl",whileHover:{scale:1.02},children:[e.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-16 sm:w-24 h-16 sm:h-24 bg-warning/5 rounded-full blur-xl"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-warning/10 rounded-lg backdrop-blur-sm",children:e.jsx(oe,{className:"w-4 h-4 sm:w-6 sm:h-6 text-warning"})}),e.jsx("span",{className:"text-xs bg-bg-300/50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-text-200",children:"AI ë¶„ì„"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-text-200 mb-0.5 sm:mb-1",children:"íš¨ìœ¨ì„± ì ìˆ˜"}),e.jsxs("div",{className:"flex items-baseline gap-1 sm:gap-2",children:[e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-text-100",children:"92"}),e.jsx("span",{className:"text-xs sm:text-sm text-text-300",children:"/ 100"})]}),e.jsx("div",{className:"mt-2 sm:mt-4",children:e.jsx("div",{className:"flex gap-0.5 sm:gap-1",children:[...Array(5)].map((g,h)=>e.jsx("div",{className:U("h-0.5 sm:h-1 flex-1 rounded-full",h<4?"bg-warning":"bg-bg-300/50")},h))})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs(k.div,{variants:N,className:"bg-bg-200 rounded-xl sm:rounded-2xl shadow-lg p-3 sm:p-6 border border-bg-300/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-6",children:[e.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-text-100",children:"ì£¼ê°„ ì‚¬ìš© íŠ¸ë Œë“œ"}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[e.jsx("button",{onClick:()=>m("tokens"),className:U("px-2 sm:px-3 py-0.5 sm:py-1 text-xs sm:text-sm rounded-lg transition-colors",d==="tokens"?"bg-accent/20 text-accent":"text-text-300 hover:bg-bg-300/50"),children:"í† í°"}),e.jsx("button",{onClick:()=>m("characters"),className:U("px-2 sm:px-3 py-0.5 sm:py-1 text-xs sm:text-sm rounded-lg transition-colors",d==="characters"?"bg-accent/20 text-accent":"text-text-300 hover:bg-bg-300/50"),children:"ë¬¸ìž"})]})]}),e.jsx(P,{width:"100%",height:180,children:e.jsxs(ie,{data:X,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:x.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:x.primary,stopOpacity:0})]})}),e.jsx(ce,{strokeDasharray:"3 3",stroke:x.border,opacity:.2}),e.jsx(de,{dataKey:"name",stroke:x.text300,tick:{fontSize:12,fill:x.text300}}),e.jsx(me,{stroke:x.text300,tick:{fontSize:12,fill:x.text300}}),e.jsx(H,{content:e.jsx(_e,{})}),e.jsx(ue,{type:"monotone",dataKey:d,stroke:x.primary,strokeWidth:2,fillOpacity:1,fill:"url(#colorTokens)"})]})})]}),e.jsxs(k.div,{variants:N,className:"bg-bg-200 rounded-2xl shadow-lg p-6 border border-bg-300/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-100 mb-6",children:"í† í° ì‚¬ìš© ë¶„í¬"}),e.jsx(P,{width:"100%",height:180,children:e.jsxs(ge,{children:[e.jsx(he,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:h})=>`${g} ${(h*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map((g,h)=>e.jsx(xe,{fill:h===0?x.primary:x.secondary},`cell-${h}`))}),e.jsx(H,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(k.div,{variants:N,className:"bg-bg-200 rounded-2xl shadow-lg p-6 border border-bg-300/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-100 mb-6",children:"ì„±ëŠ¥ ì§€í‘œ"}),e.jsx(P,{width:"100%",height:180,children:e.jsxs(pe,{data:Q,children:[e.jsx(fe,{stroke:x.border,opacity:.2}),e.jsx(be,{dataKey:"subject",tick:{fontSize:12,fill:x.text300}}),e.jsx(ke,{angle:90,domain:[0,100],tick:{fontSize:10,fill:x.text300}}),e.jsx(ye,{name:"ì„±ëŠ¥",dataKey:"A",stroke:x.secondary,fill:x.secondary,fillOpacity:.6})]})})]}),e.jsxs(k.div,{variants:N,className:"bg-bg-200 rounded-2xl shadow-lg p-6 border border-bg-300/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-100 mb-6",children:"ì›”ê°„ ì‚¬ìš©ë¥ "}),e.jsx(P,{width:"100%",height:180,children:e.jsxs(je,{cx:"50%",cy:"50%",innerRadius:"40%",outerRadius:"100%",data:ee,children:[e.jsx(we,{dataKey:"value",cornerRadius:10,fill:v>80?x.danger:v>50?x.warning:x.success,background:!0}),e.jsxs("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-3xl font-bold",fill:x.text100,children:[v,"%"]})]})})]}),e.jsxs(k.div,{variants:N,className:"bg-bg-200 border border-bg-300/50 rounded-2xl p-6 space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-100 mb-4",children:"ë¹ ë¥¸ í†µê³„"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-300/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-text-200",children:"í‰ê·  ì‘ë‹µ ì‹œê°„"})]}),e.jsx("span",{className:"text-sm font-semibold text-text-100",children:"1.2ì´ˆ"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-300/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-text-200",children:"ì˜¤ëŠ˜ ì„¸ì…˜"})]}),e.jsx("span",{className:"text-sm font-semibold text-text-100",children:"12íšŒ"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-300/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-text-200",children:"í‰ê·  í† í°/ì„¸ì…˜"})]}),e.jsx("span",{className:"text-sm font-semibold text-text-100",children:"847"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg-300/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-warning rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-text-200",children:"ì˜ˆìƒ ìž”ì—¬ì¼"})]}),e.jsx("span",{className:"text-sm font-semibold text-text-100",children:"18ì¼"})]})]})]})]})]})]})},Ge=({selectedEngine:s,onBack:t})=>e.jsx(Le,{selectedEngine:s,onBack:t});export{Ge as default};
//# sourceMappingURL=DashboardContainer-ba80428a.js.map
