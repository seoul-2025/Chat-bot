import{j as e,c as L}from"./ui-vendor-b6549631.js";import{r}from"./react-vendor-8bc290bc.js";import{c as l}from"./createLucideIcon-5c1ba45b.js";import{H as M}from"./home-db5382c6.js";import{U as R}from"./user-6c757496.js";const k=l("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),H=l("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),A=l("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),C=l("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),I=l("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),J=({onLogout:p,onAdminLogin:f,onHome:b,chatTitle:g,onToggleSidebar:v,isSidebarOpen:U=!1,onDashboard:n,selectedEngine:O,usagePercentage:B,isLandingPage:y=!1})=>{const[o,d]=r.useState(!1),x=r.useRef(null),[t,m]=r.useState(null),[h,u]=r.useState("user"),[z,j]=r.useState(!1);r.useEffect(()=>{const s=()=>{try{const c=localStorage.getItem("userInfo"),E=localStorage.getItem("userRole")||"user",N=localStorage.getItem("isLoggedIn")==="true";if(j(N),c&&N){const S=JSON.parse(c);m(S),u(E)}else m(null),u("user")}catch(c){console.error("사용자 정보 로드 실패:",c),m(null),u("user"),j(!1)}};s();const i=()=>{s()},w=()=>{s()};return window.addEventListener("storage",i),window.addEventListener("userInfoUpdated",w),()=>{window.removeEventListener("storage",i),window.removeEventListener("userInfoUpdated",w)}},[]),r.useEffect(()=>{const s=i=>{x.current&&!x.current.contains(i.target)&&d(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const a=s=>{console.log(`사용자 메뉴: ${s}`),d(!1),s==="logout"&&p?p():s==="dashboard"&&n?n():s==="dashboard"&&f?f():s==="subscription"?window.location.href="/subscription":s==="profile"&&(window.location.href="/profile")};return e.jsx("header",{className:`sticky top-0 z-50 w-full transition-all duration-200 ${y?"border-b border-gray-800":""}`,style:{backdropFilter:"blur(12px)",backgroundColor:y?"rgba(15, 15, 15, 0.95)":"hsl(var(--bg-100)/0.95)"},children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16 relative",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[v&&!U&&e.jsx("button",{className:"p-2 rounded-md text-text-300 hover:bg-bg-300 hover:text-text-100 transition-colors",onClick:v,"aria-label":"사이드바 열기",children:e.jsx(I,{size:24})}),b&&e.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-md text-text-300 hover:bg-bg-300 hover:text-text-100 transition-colors",onClick:b,children:[e.jsx(M,{size:20}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"AI-HUB"})]})]}),g&&e.jsx("div",{className:"flex-1 flex justify-center mx-4",children:e.jsx("h1",{className:"text-text-100 font-medium text-sm lg:text-base truncate max-w-md",children:g})}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[n&&e.jsx("div",{className:"hidden md:block",children:e.jsxs("button",{className:"flex items-center space-x-2 px-5 py-3 rounded-lg text-sm font-semibold transition-all duration-200 text-text-300 hover:bg-bg-300 hover:text-text-100",onClick:()=>a("dashboard"),children:[e.jsx(k,{size:20}),e.jsx("span",{children:"대시보드"})]})}),z&&t?e.jsxs("div",{className:"relative",ref:x,children:[e.jsxs("button",{className:"flex items-center space-x-2 p-2 rounded-full hover:bg-bg-300 transition-colors duration-200","aria-expanded":o,"aria-haspopup":"true",onClick:()=>d(!o),children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-medium text-sm",style:{backgroundColor:"hsl(var(--accent-main-000))"},children:t!=null&&t.name?t.name.charAt(0).toUpperCase():t!=null&&t.email?t.email.charAt(0).toUpperCase():"U"}),e.jsx(H,{size:16,className:L("text-text-500 transition-transform duration-200",o?"rotate-180":"")})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 rounded-lg py-2 z-50",style:{backgroundColor:"hsl(var(--bg-000))",border:"1px solid hsl(var(--bg-300))",boxShadow:"0 0.25rem 1.25rem hsl(var(--always-black)/15%), 0 0 0 0.5px hsla(var(--bg-300)/0.5)"},children:[e.jsx("div",{className:"px-4 py-3 border-b",style:{borderColor:"hsl(var(--bg-300))"},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-accent-main-000 rounded-full flex items-center justify-center text-white font-medium",children:t!=null&&t.name?t.name.charAt(0).toUpperCase():t!=null&&t.email?t.email.charAt(0).toUpperCase():"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-text-100 truncate",children:(t==null?void 0:t.name)||(t==null?void 0:t.username)||"사용자"}),e.jsx("p",{className:"text-xs text-text-300 truncate",children:(t==null?void 0:t.email)||"이메일 없음"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium mt-1",style:{backgroundColor:h==="admin"?"hsl(var(--success-000)/0.1)":"hsl(var(--accent-main-000)/0.1)",color:h==="admin"?"hsl(var(--success-000))":"hsl(var(--accent-main-000))"},children:h==="admin"?"관리자":"사용자"})]})]})}),e.jsxs("div",{className:"py-1",children:[n&&e.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-text-200 hover:bg-bg-200 w-full text-left transition-colors duration-150 md:hidden",onClick:()=>a("dashboard"),children:[e.jsx(k,{className:"h-4 w-4 mr-3"}),"대시보드"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-text-200 hover:bg-bg-200 w-full text-left transition-colors duration-150",onClick:()=>a("profile"),children:[e.jsx(R,{className:"h-4 w-4 mr-3"}),"프로필"]}),e.jsxs("button",{className:"flex items-center px-4 py-2 text-sm text-text-200 hover:bg-bg-200 w-full text-left transition-colors duration-150",onClick:()=>a("subscription"),children:[e.jsx(A,{className:"h-4 w-4 mr-3"}),"구독 플랜"]})]}),e.jsx("div",{className:"border-t my-1",style:{borderColor:"hsl(var(--bg-300))"}}),e.jsxs("button",{onClick:()=>a("logout"),className:"flex items-center px-4 py-2 text-sm w-full text-left transition-colors duration-150",style:{color:"hsl(var(--danger-000))"},children:[e.jsx(C,{className:"h-4 w-4 mr-3"}),"로그아웃"]})]})]}):e.jsxs("button",{onClick:()=>window.location.href="/login",className:"flex items-center space-x-2 px-4 py-2 bg-accent-main-000 text-white rounded-lg hover:bg-accent-main-100 transition-colors duration-200 font-medium text-sm",children:[e.jsx(C,{size:16,className:"rotate-180"}),e.jsx("span",{children:"로그인"})]})]})]})})})};export{A as C,J as H};
//# sourceMappingURL=Header-bd95a027.js.map
